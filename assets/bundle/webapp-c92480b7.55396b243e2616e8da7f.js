(()=>{"use strict";var e,t,n,i,r,o={74192:(e,t,n)=>{n.d(t,{I:()=>i});const i=(0,n(91757).createAction)("@userSessionsCount/GET_PERSISTED_DATA",(({localStorageData:e}={localStorageData:""})=>({localStorageData:e})))()},73345:(e,t,n)=>{n.d(t,{B:()=>x});var i=n(91757);const r=(0,i.createAction)("@userSessionsCount/ENTER_KIDS_MODE")(),o=(0,i.createAction)("@userSessionsCount/ENTER_DEFAULT_MODE")();var a=n(74192),l=n(18172);const s=(0,l.ZP)((e=>{e.application.kidsMode||(e.application.kidsMode=0),e.application.kidsMode+=1})),d=(0,l.ZP)((e=>{e.application.defaultMode||(e.application.defaultMode=0),e.application.defaultMode+=1})),c=(0,l.ZP)(((e,{payload:{localStorageData:t}})=>{const n=JSON.parse(t);if((null==n?void 0:n.length)>0){const[t,i]=n;e.application.kidsMode=null!=t?t:u.application.kidsMode,e.application.defaultMode=null!=i?i:u.application.defaultMode}})),u={application:{kidsMode:0,defaultMode:0}},y=(0,i.createReducer)(u).handleAction(r,s).handleAction(o,d).handleAction(a.I,c);var p=n(53708),g=n(24970);function*f(){yield(0,g.gz)(o())}function*v(){yield(0,g.ib)((0,i.getType)(p.K.success),f)}var m=n(90314),E=n(90933),h=n(8247),w=n(64550),D=n(3487),b=n(35357),T=n(59394),S=n(10571);function A(e){return e.userSessionsCount.application.kidsMode}function P(e){const t=A(e),n=function(e){return e.userSessionsCount.application.defaultMode}(e);return JSON.stringify([t,n])}function I(e){return 1===A(e)}function O(e){return A(e)>=2}var R=n(84417),k=n(29849),C=n(22766),M=n(64687);const z=(0,M.gV)("/app/src/modules/userSessionsCount/sagas/application/enterKidsMode/worker.ts");function*N(){var e;yield(0,g.gz)(r());const t=yield(0,g.Ys)(S.h),n=yield(0,g.Ys)(T.hK),i=null!=t&&null!==(e=t.params)&&void 0!==e&&e.module?null==t?void 0:t.params:n;let o=!1;switch(null==i?void 0:i.module){case b.bC.liveTV:const e=yield(0,g.Ys)(h.X,{slug:null==i?void 0:i.slug});o=yield(0,g.Ys)(E.Y,{channelID:e});break;case b.bC.onDemand:const t=yield(0,g.Ys)(D.T,{slug:null==i?void 0:i.slug});o=yield(0,g.Ys)(w.k,{contentID:t})}const a=yield(0,g.Ys)(C.qK),l=yield(0,g.Ys)(O),s=yield(0,g.Ys)(I);o&&(a||l)?(z.log("undocking video player"),yield(0,g.gz)((0,k.B)())):o&&!s||(z.log("docking video player"),yield(0,g.gz)((0,R.W)()))}function*_(){yield(0,g.ib)((0,i.getType)(m.K.success),N)}const V=(0,M.gV)("/app/src/modules/userSessionsCount/sagas/persist/worker.ts");function*L(){const e=yield(0,g.Ys)(P);V.log(`persisting user sessions count: ${e}`),yield(0,g.RE)([localStorage,"setItem"],"ptv-usersessionscount",e)}function*Y(){yield(0,g.Fm)([(0,i.getType)(o),(0,i.getType)(r)],L)}function*q(){yield(0,g.rM)(Y),yield(0,g.rM)(_),yield(0,g.rM)(v)}function x(){return{id:"userSessionsCount",reducerMap:{userSessionsCount:y},sagas:[q]}}},75585:(e,t,n)=>{n.d(t,{N:()=>o});var i=n(24970),r=n(74192);function*o(){let e=yield(0,i.RE)([localStorage,"getItem"],"ptv-usersessionscount");e||(e="[]"),yield(0,i.gz)((0,r.I)({localStorageData:e}))}},4883:(e,t,n)=>{n.d(t,{p:()=>i});const i=(0,n(91757).createAction)("@video_player/ENTER_FULLBROWSER")()},34237:(e,t,n)=>{n.d(t,{r:()=>i});const i=(0,n(91757).createAction)("@video_player/EXIT_FULLBROWSER")()},60203:(e,t,n)=>{n.d(t,{g:()=>i});const i=(0,n(91757).createAction)("@video_player/FULL_ADPOD_WATCHED")()},64986:(e,t,n)=>{n.d(t,{i:()=>r,P:()=>o});var i=n(91757);const r=(0,i.createAction)("@video_player/ORIENTATION_TURNED_PORTRAIT")(),o=(0,i.createAction)("@video_player/ORIENTATION_TURNED_LANDSCAPE")()},23607:(e,t,n)=>{n.d(t,{x:()=>i});const i=(0,n(91757).createAction)("@video_player/VIRAL_CONTENT_UPDATE")()},70510:(e,t,n)=>{n.d(t,{o:()=>Es});var i=n(43419),r=n(24970),o=n(19864),a=n(53147),l=n(92299),s=n(57289),d=n(81117),c=n(64687),u=n(75203),y=n(91757);const p=(0,c.gV)("/app/src/modules/videoPlayer/sagas/buffering/stalled/worker.ts");function*g(){const e=Math.floor(20*Math.random()+59990);p.log("checking stall in %d ms",e);const[t]=yield(0,r.S3)([(0,u.A)(e),(0,r.qn)((0,y.getType)(a.y.success)),(0,r.qn)((0,y.getType)(s.D.success))]);t?(p.log("playback stalled"),yield(0,r.gz)((0,d.i)({error:new Error("video-stalled"),data:null}))):p.log("buffering complete")}function*f(){yield(0,o.Fm)(a.y.request,g)}function*v(){yield(0,o.Fm)(l.F.request,g)}function*m(){yield(0,r.rM)(v),yield(0,r.rM)(f)}function*E(){yield(0,o.rM)(m)}var h=n(40926),w=n(20816),D=n(39008);const b=(0,c.gV)("/app/src/modules/videoPlayer/sagas/clickableAds/resetCreativeIDTask.ts");function*T(){for(;;){if(yield(0,r.Ys)(w.xC)){const e=yield(0,r.Ys)(D.h),t=yield(0,r.Ys)(w.qT);e===t&&(b.log(`resetCreativeID on creativeEndTime:${t}`),yield(0,r.gz)((0,h.OH)({creativeID:null,creativeEndTime:null})))}yield(0,r.gw)(500)}}function*S(){yield(0,r.rM)(T)}var A=n(70789),P=n(95968),I=n(59394),O=n(65358),R=n(4883);function*k(){yield(0,r.ib)((0,y.getType)(R.p),C)}function*C(){const e=yield(0,r.Ys)(P.D7),t=yield(0,r.Ys)(I.hK),n=yield(0,r.Ys)(O.CX);yield(0,r.gz)((0,A.Q)(e,t,{query:n,extra:{enterFullBrowser:!0}}))}var M=n(34237);function*z(){yield(0,r.ib)((0,y.getType)(M.r),N)}function*N(){const e=yield(0,r.Ys)(P.D7),t=yield(0,r.Ys)(I.hK),n=yield(0,r.Ys)(O.CX);yield(0,r.gz)((0,A.Q)(e,t,{query:n,extra:{enterFullBrowser:!1},replace:!0}))}function*_(){yield(0,r.rM)(k),yield(0,r.rM)(z)}var V=n(67194),L=n(95311),Y=n(45227),q=n(6674),x=n(16985);function*H(){const e=yield(0,r.Ys)(q._),t=yield(0,r.Ys)(q.Z),n=yield(0,r.Ys)(x.A);!t||n||e||(yield(0,r.gz)(V.$.success()))}const j=(0,c.gV)("/app/src/modules/videoPlayer/sagas/overlay/visibility/show.ts");function*F(){(yield(0,r.Ys)(q.Z))||(yield(0,r.gz)(Y.M.success())),j.log("waiting 5000 to hide overlay"),yield(0,r.gw)(5e3),(yield(0,r.Ys)(q._))?j.log("persistent overlay active"):(j.log("request hidding"),yield(0,r.gz)(V.$.request()))}const B=(0,c.gV)("/app/src/modules/videoPlayer/sagas/overlay/visibility/watcher.ts");function*U(){let e;for(;;){const[t,n,i]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(Y.M.request)),(0,r.qn)((0,y.getType)(V.$.request)),(0,r.qn)((0,y.getType)(L.F))]);e&&(B.log("cancelling task"),yield(0,r.al)(e)),t||!1===(null==i?void 0:i.payload)?(B.log("showing overlay"),e=yield(0,r.rM)(F)):n&&(B.log("hidding overlay"),e=yield(0,r.rM)(H))}}function*X(){yield(0,r.Cs)(U)}var $=n(17522),G=n(60203),K=n(37855);function*Q(){yield(0,r.qn)((e=>(0,y.isActionOf)($.E,e)&&e.payload.type===K.Yp.POD_START)),yield(0,r.qn)((e=>(0,y.isActionOf)($.E,e)&&e.payload.type===K.Yp.POD_END)),yield(0,r.gz)((0,G.g)())}function*W(){yield(0,r.Fm)((0,y.getType)(l.F.request),Q)}var Z=n(56297),J=n(22766),ee=n(35844),te=n(96156),ne=n(81253),ie=n(36021),re=n(88618),oe=n(82344);let ae,le;!function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(ae||(ae={})),function(e){e.start="start",e.firstQuartile="firstQuartile",e.midpoint="midpoint",e.thirdQuartile="thirdQuartile",e.complete="complete"}(le||(le={}));var se=n(33759),de=n(39629),ce=n(59828);function ue(e){return e.substr(e.indexOf("://")+1)}function ye(e){return e.map((e=>ue(e)))}function pe(e,t){return e.filter((e=>((e,t)=>t.event===e)(t,e))).map((({url:e})=>ue(e)))}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ve=(0,c.gV)("/app/src/modules/videoPlayer/sagas/stitcherSession/processCmPod/getEventTimeMap.ts");function me(e,t){const n=(0,se.n$)(e,t);return(0,de.C)(n)}function*Ee({ads:e,startTime:t}){const n=new Map,i=new Date;let o=t,a=0;for(let t=0;t<e.length;t++){const l=e[t];me(o,l.duration)?(ve.log("ad already ended, aborting"),o=(0,se.n$)(o,l.duration),a+=l.duration):(yield(0,r.RE)(we,{eventTimeMap:n,cmData:l,cmImpressionIndex:t+1,lastEventTime:o,processStartTime:i}),o=(0,se.n$)(o,l.duration),a+=l.duration)}return ve.log("events to track: %O",n),{eventTimeMap:n,eventsDuration:a}}function he(e,t,n){const i=(0,ce.C8)(t);e.get(i)?e.set(i,[...e.get(i),n]):e.set(i,[n])}function*we({eventTimeMap:e,cmData:t,cmImpressionIndex:n,lastEventTime:i,processStartTime:r}){const{ID:o,type:a,duration:l,impressions:s=[],trackingEvents:d=[],extendedEvents:c}=t,u=l/4,y=null!=c&&c.omsdkEvents?c.omsdkEvents:[],p=fe({cmID:o,cmDuration:l,cmImpressionIndex:n},y?{extendedEvents:y}:[]);let g=i;he(e,g,fe({type:K.Yp.BEGIN},p)),(0,de.C)(g,r)||(he(e,g,fe({type:K.Yp.IMPRESSION,urls:ye(s)},p)),he(e,g,fe({type:K.Yp.START,urls:pe(d,le.start)},p))),g=(0,se.n$)(i,u),(0,de.C)(g,r)||he(e,g,fe({type:K.Yp.FIRST_QUARTILE,urls:pe(d,le.firstQuartile)},p)),g=(0,se.n$)(g,u),(0,de.C)(g,r)||he(e,g,fe({type:K.Yp.MIDPOINT,urls:pe(d,le.midpoint)},p)),g=(0,se.n$)(g,u),(0,de.C)(g,r)||he(e,g,fe({type:K.Yp.THIRD_QUARTILE,urls:pe(d,le.thirdQuartile)},p)),g=(0,se.n$)(g,u),(0,de.C)(g,r)||he(e,g,fe(fe({type:K.Yp.COMPLETE,cmType:a},p),{},{urls:pe(d,le.complete)})),he(e,g,fe({type:K.Yp.END},p)),he(e,g,{type:K.Yp.CLEAR_CM_DATA})}var De=n(88899);function be(e){var t;return(null===(t=e.videoPlayer.session.pendingCmData)||void 0===t?void 0:t.cmPod)||null}function Te(e){var t;return(null===(t=e.videoPlayer.session.pendingCmData)||void 0===t?void 0:t.events)||null}function Se(e){var t;return!(null===(t=e.videoPlayer.session.pendingCmData)||void 0===t||!t.events)}function Ae(e){const t=be(e);return(0,De.Q)(null==t?void 0:t.startTime)}function Pe(e,{startTime:t}){const n=Ae(e);return!!n&&n.getTime()===t.getTime()}function Ie(e){const t=be(e);return(null==t?void 0:t.adBreakDuration)||null}function Oe(e){const t=be(e),n=function(e){var t;return(null===(t=e.videoPlayer.session.pendingCmData)||void 0===t?void 0:t.events[0].cmID)||null}(e),i=Ae(e);let r=0;const{ads:o}=t;for(const e of o)if(r+=e.duration,e.ID===n)break;return me(i,r)}var Re=n(78706),ke=n(23869);const Ce=(0,c.gV)("/app/src/modules/videoPlayer/sagas/stitcherSession/processCmPod/fetchCmUrls.ts");function*Me(e){for(const t of e)try{Ce.log("sending url request to",t),yield(0,r.RE)(fetch,t,{mode:"no-cors"})}catch(e){Ce.error(`request to ${t} failed`,e),yield(0,r.gz)((0,ie.r)({errorDescription:e.message}))}}const ze=["urls"];function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ve=(0,c.gV)("/app/src/modules/videoPlayer/sagas/stitcherSession/processCmPod/liveTVWorker.ts");function*Le({cmPodDuration:e}){if(yield(0,r.Ys)(Se)){Ve.log("processing interrupted ads");const t=yield(0,r.Ys)(Oe),n=yield(0,r.Ys)(Ie),i=yield(0,r.Ys)(Ae);if(t){const e=yield(0,r.Ys)(Te);Ve.log("ending interrupted ads: %O",e);const{cmID:t,cmImpressionIndex:o,cmDuration:a}=e[0];yield(0,r.gz)((0,$.E)({type:K.Yp.END,cmPodDuration:n,cmPodStartTime:i,cmID:t,cmDuration:a,cmImpressionIndex:o,eventOccurredTimestamp:(0,ke.Fm)(new Date)}))}me(i,e)&&(Ve.log("ending interrupted cmPod"),yield(0,r.gz)((0,$.E)({type:K.Yp.POD_END,cmPodDuration:n,cmPodStartTime:i})))}}function*Ye({payload:{data:{adBreak:e}}}){if(!e)return void Ve.log("session data doesn't contain cmPod data, aborting processing");let t,n=0,i=0,o=0,a=!1;const l=e.adBreakDuration,s=(0,De.Q)(e.startTime),d=(0,se.n$)(s,l);try{if(yield(0,r.RE)(Le,{cmPodDuration:l}),Ve.log("processing cmPod",e),(0,de.C)(d))return void Ve.log("cmPod already ended, aborting processing");const p=e.ads;if(!p)return void Ve.log("cmPod doesn't have ads, aborting processing");if(yield(0,r.gz)((0,oe._)({ads:p,startTime:e.startTime})),a=(0,de.C)(s),a){Ve.log("cmPod already started, resuming processing on remaining ads");const e=yield(0,r.Ys)(Pe,{startTime:s});var c;(yield(0,r.Ys)(Se))&&e||(yield(0,r.gz)((0,$.E)({type:K.Yp.POD_ALREADY_STARTED,cmID:null===(c=p[0])||void 0===c?void 0:c.ID,cmPodDuration:l,cmPodStartTime:s})))}else Ve.log("cmPod will start soon");const g=yield(0,r.RE)(Ee,{ads:p,startTime:s});if(!g||0===g.eventTimeMap.size)return void Ve.log("event time map is empty, aborting processing");const{eventTimeMap:f,eventsDuration:v}=g;n=f.size,l!==v&&Ve.warn("generated events duration does not match adBreak duration");for(const[e,n]of f){t=n;const d=new Date;let c=(0,Re.a5)(e,d);var y;c<0&&(Ve.warn("processing past events",{when:e,now:d,events:n}),c=0),Ve.log(`waiting ${c}ms for ${a?"next":"first"} event`),yield(0,u.A)(c),o+=1,a||(a=!0,Ve.log("cmPod started",{startTime:s,currentTime:new Date}),yield(0,r.gz)((0,$.E)({type:K.Yp.POD_START,cmID:null===(y=p[0])||void 0===y?void 0:y.ID,cmPodDuration:l,cmPodStartTime:s}))),Ve.log(`dispatching ${e}, ${n.length} events`);for(const e of n){Ve.log("processing event",e);const{urls:t=[]}=e,n=(0,ne.Z)(e,ze);yield(0,r.gz)((0,$.E)(_e(_e({},n),{},{cmPodDuration:l,cmPodStartTime:s,eventOccurredTimestamp:(0,ke.Fm)(new Date)}))),yield(0,r.Cs)(Me,t)}i+=1,t=null}}catch(e){Ve.error("processing failed",e),yield(0,r.gz)((0,ie.r)({errorDescription:e.message}))}finally{const a=yield(0,r.By)();yield(0,r.Cs)(qe,{sagaCancelled:a,processingStartedEvents:o,processedEvents:i,totalEvents:n,leftEvents:t,cmPod:e,cmPodDuration:l,startTime:s,endTime:d})}}function*qe({sagaCancelled:e,processingStartedEvents:t,processedEvents:n,totalEvents:i,leftEvents:o,cmPod:a,cmPodDuration:l,startTime:s,endTime:d}){if(Ve.log("worker ending",{sagaCancelled:e,processingStartedEvents:t,processedEvents:n,totalEvents:i,leftEvents:o,cmPod:a,cmPodDuration:l,startTime:s,endTime:d}),t>0){if(e&&(Ve.log("cmPod processing cancelled from parent saga"),o&&o.length>0&&(Ve.log("interrupted mid cmPod: %O",o),yield(0,r.gz)((0,re.N)({cmPod:a,events:o})))),n===i?Ve.log("cmPod completed processing",{endTime:d,currentTime:new Date}):Ve.warn("cmPod didn't completed processing, but calling it done anyways",{endTime:d,currentTime:new Date}),e)return void Ve.log("aborting processing");yield(0,r.gz)((0,$.E)({type:K.Yp.POD_END,cmPodDuration:l,cmPodStartTime:s})),yield(0,r.gz)((0,$.E)({type:K.Yp.CLEAR_CM_DATA,cmPodStartTime:s}))}}var xe=n(90692),He=n(40043),je=n(19047);function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(37401);const Ue=(0,c.gV)("/app/src/modules/videoPlayer/sagas/stitcherSession/processCmPod/getEventOffsetMap.ts");function*Xe({adBreaks:e}){const t=new Map;let n=0;for(let i=0;i<e.length;i++){const o=e[i];if(0===o.adBreakDuration){Ue.log("0 duration cmPod, skipping",o);continue}if(0===o.ads.length){Ue.log("0 ads in cmPod data, skipping",o);continue}if(yield(0,r.Ys)((e=>(0,je.V9)(e,{durationInMs:o.adBreakDuration,startingOffset:o.startingOffset})))){Ue.log("cmPod already watched, skipping",o);continue}Ue.log("new cmPod found",o),n=o.startingOffset;const a=new Date;Ge(t,n,(yield(0,r.Ys)(D.h))>n?{type:K.Yp.POD_ALREADY_STARTED,cmPodDuration:o.adBreakDuration,cmPodStartTime:a}:{type:K.Yp.POD_START,cmPodDuration:o.adBreakDuration,cmPodStartTime:a}),Ue.log("producing events for",o),yield(0,r.RE)($e,{eventOffsetMap:t,cmData:o,lastEventOffset:n}),Ge(t,o.startingOffset+o.adBreakDuration/1e3,{type:K.Yp.POD_END,cmPodDuration:o.adBreakDuration,cmPodStartTime:a})}return Ue.log("events to track",t),{eventOffsetMap:t}}function*$e({eventOffsetMap:e,cmData:t,lastEventOffset:n}){if(t.ads.length>0){const i=t.adBreakDuration,r=new Date;let o=n;for(const[n,a]of t.ads.entries()){const{ID:t,type:l,duration:s,impressions:d=[],trackingEvents:c=[],extendedEvents:u}=a,y=s/1e3/4,p=null!=u&&u.omsdkEvents?u.omsdkEvents:[],g=Be({cmID:t,cmDuration:s,cmImpressionIndex:n+1,cmPodDuration:i,cmPodStartTime:r},p?{extendedEvents:p}:[]);Ge(e,o,Be({type:K.Yp.BEGIN},g)),Ge(e,o,Be({type:K.Yp.IMPRESSION,urls:ye(d)},g)),Ge(e,o,Be({type:K.Yp.START,urls:pe(c,le.start)},g)),o+=y,Ge(e,o,Be({type:K.Yp.FIRST_QUARTILE,urls:pe(c,le.firstQuartile)},g)),o+=y,Ge(e,o,Be({type:K.Yp.MIDPOINT,urls:pe(c,le.midpoint)},g)),o+=y,Ge(e,o,Be({type:K.Yp.THIRD_QUARTILE,urls:pe(c,le.thirdQuartile)},g)),o+=y,Ge(e,o,Be(Be({type:K.Yp.COMPLETE,cmType:l},g),{},{urls:pe(c,le.complete)})),Ge(e,o,Be({type:K.Yp.END},g)),Ge(e,o,{type:K.Yp.CLEAR_CM_DATA,cmPodDuration:i,cmPodStartTime:r})}}}function Ge(e,t,n){e.get(t)?e.set(t,[...e.get(t),n]):e.set(t,[n])}const Ke=["urls"];function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ze=(0,c.gV)("/app/src/modules/videoPlayer/sagas/stitcherSession/processCmPod/onDemandWorker.ts");function*Je({payload:{data:e}}){try{if(!e.adBreaks)return void Ze.log("session data doesn't contain adBreaks, aborting processing");const{adBreaks:t}=e,n=yield(0,r.Ys)(je.v5),i=t.filter((e=>{const t=null==n?void 0:n.find((t=>t.startingOffset===e.startingOffset));return!(null!=t&&t.watched)})),{eventOffsetMap:o}=yield(0,r.RE)(Xe,{adBreaks:i});if(0===o.size)return void Ze.warn("no offset map generated");Ze.log("adBreaks found",{adBreaks:i,eventOffsetMap:o});let a=i[0];if(a){const e=a.ads;yield(0,r.gz)((0,oe._)({ads:e,startTime:a.startTime}))}const l=[...o];let s=!1;if(0===l.length)return void Ze.log("no events to process");for(;;){const{payload:e}=yield(0,r.qn)((0,y.getType)(xe.$)),[t,n]=l[0];if(e<t||!n)Ze.log(`skip, event will be fired on offset: ${t}, currentTime: ${e}, events to fire: ${l.length}`);else{Ze.log(`dispatching ${t}, ${n.length} events`,n);for(const e of n){Ze.log("processing event",e);const{urls:t=[]}=e,n=(0,ne.Z)(e,Ke),i=We({eventOccurredTimestamp:(0,ke.Fm)(new Date)},n);yield(0,r.gz)((0,$.E)(i)),i.type===K.Yp.POD_END&&(s=!0),yield(0,r.Cs)(Me,t)}if(l.splice(0,1),s&&(s=!1,Ze.log("executed cmevent complete"),a&&(Ze.log("ad completing",{firstAdBreak:a}),(yield(0,r.Ys)((e=>(0,je.V9)(e,{durationInMs:a.adBreakDuration,startingOffset:a.startingOffset}))))||(yield(0,r.gz)((0,He.T)({durationInMs:a.adBreakDuration,startingOffset:a.startingOffset})))),i.splice(0,1),a=i[0]),0===l.length)break}}}catch(e){Ze.error("processing failed",e),yield(0,r.gz)((0,ie.r)({errorDescription:e.message}))}finally{(yield(0,r.By)())&&Ze.log("cmPod processing cancelled from parent saga")}}const et=(0,c.gV)("/app/src/modules/videoPlayer/sagas/stitcherSession/processCmPod/watcher.ts");function*tt(){let e=null;for(et.log("initializing");;){et.log("waiting session update, new content play request or buffer");const[t,n]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(Z.o)),(0,r.qn)((0,y.getType)(a.y.request)),(0,r.qn)((0,y.getType)(l.F.request))]);if(et.log("take race complete",{sessionUpdateAction:t,bufferingStartAction:n}),e){if(n&&(yield(0,r.Ys)(ee.Yj))){et.log("playing vod, ignore buffer start action and keep cmPod worker running");continue}et.log("canceling existing task"),yield(0,r.al)(e),e=null}if(t)switch(yield(0,r.Ys)(J.iI)){case K.Ab.CHANNEL:et.log("forking new live tv cmpod worker"),e=yield(0,r.rM)(Ye,t);break;case K.Ab.ON_DEMAND_MOVIE:case K.Ab.ON_DEMAND_SERIES_EPISODE:et.log("forking new on demand cmpod worker"),e=yield(0,r.rM)(Je,t)}}}var nt=n(29368),it=n(29626),rt=n(36303),ot=n(23607),at=n(4762),lt=n(24577),st=n(47776);function dt(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.player.currentStreamType)||i.G.player.currentStreamType}var ct=n(22531),ut=n(7710);const yt=(0,c.gV)("/app/src/modules/videoPlayer/sagas/stitcherSession/tracker/tryRequestStitcherSession.ts");function pt(e){return 5e3*(1+(e-1)/2)}function*gt(e,t,n=15){const i=yield(0,r.Ys)(it.GL),o=(0,lt.l)()?(0,ke.CX)(new Date):0;for(let l=1;l<=n;l++)try{let a;yt.log("try request",{retryCount:l,totalRetryCount:n});const s=yield(0,r.Ys)(dt);if(s&&(a=s===K.IB.MPD?yield(0,r.RE)([e,e.stitcherDashSessionV2],{sessionID:t,includeExtendedEvents:i,clientTime:o}):yield(0,r.RE)([e,e.stitcherSessionV2],{sessionID:t,includeExtendedEvents:i,clientTime:o})),!a)throw new Error("empty session response");if(0===a.clips.length)throw new Error("missing clips");const d=yield(0,r.Ys)(st.i);if(a.streamInfo.streamID!==d)throw yt.error("invalid content",{apiResponseContent:a.streamInfo.streamID,currentContentID:d}),new Error("invalid content");return yt.log("request successfuly",{apiResponseContent:a.streamInfo.streamID,currentContentID:d}),yt.log("logStitcher: request successfuly",{apiResponseContent:a.streamInfo.streamID,currentContentID:d},"logStitcher"),a}catch(e){if(yt.error("request failed",(0,ut.serializeError)(e)),e instanceof ct.h){var a;const t=null===(a=e.responseBody)||void 0===a?void 0:a.statusCode;if([403,401].includes(t))throw new Error("session invalid")}yield(0,u.A)(pt(l))}throw new Error("exceed retry attempts")}const ft=(0,c.gV)("/app/src/modules/videoPlayer/sagas/stitcherSession/tracker/worker.ts");function*vt(){try{ft.log("initializing session data tracker");const e=yield(0,r.fw)("plutoTVAPIService"),t=yield(0,r.Ys)(at.b);let n;for(;;){if(ft.log("trying to request stitcher session",{sessionID:t}),n=yield(0,r.RE)(gt,e,t),ft.log("initializing session data processing",n),ft.log("logSession: initializing session data processing",n,"logSession"),yield(0,r.gz)((0,Z.o)({data:n})),yield(0,r.Ys)(ee.Yj)){ft.log("session data shouldn't update for VOD");break}const i=yield(0,r.RE)(Re.a5,n.nextUpdate,new Date),o=Math.max(i,5e3);ft.log(`waiting to update. when: ${n.nextUpdate} | ${o}ms`),yield(0,u.A)(o),ft.log("wait complete")}}catch(e){ft.log("something went wrong while processing stitcher session",e),"session invalid"===e.message&&(yield(0,r.gz)(nt._h.request({lastEventTimeMS:Date.now()})))}}const mt=(0,c.gV)("/app/src/modules/videoPlayer/sagas/stitcherSession/tracker/watcher.ts");function*Et(){let e,t=!1,n=!1,i=!0;const o=yield(0,r.Ys)(it.GB);for(mt.log("initializing");;){mt.log("waiting playback update");const[d,c,u,p,g,f,v,m,E,h]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(l.F.request)),(0,r.qn)((0,y.getType)(l.F.success)),(0,r.qn)((0,y.getType)(a.y.request)),(0,r.qn)((0,y.getType)(a.y.success)),(0,r.qn)((0,y.getType)(s.D.success)),(0,r.qn)((0,y.getType)(rt.i.success)),(0,r.qn)((0,y.getType)(nt.JO.success)),(0,r.qn)((0,y.getType)(nt._h.request)),(0,r.qn)((0,y.getType)(nt._h.success)),(0,r.qn)((0,y.getType)(nt._h.failure))]);m&&(mt.log("restart request"),i=!0),(v||E||h)&&(mt.log("session started"),i=!1),d&&(mt.log("new playback request"),t=!1,n=!0),c&&(mt.log("playback success"),t=!0,o&&(n=!1)),g&&(mt.log("playback paused"),t=!1,n=!1),f&&(mt.log("playback resume"),t=!0),u&&(mt.log("buffer start"),n=!0),p&&(mt.log("buffer done"),n=!1),e&&(mt.log("cancelling existing tracker task"),yield(0,r.al)(e),e=null);const w=t&&!1===n&&!i;if(mt.log("should start tracker",{shouldStartTracker:w,playSuccess:t,buffering:n,restarting:i}),w)switch(yield(0,r.Ys)(J.iI)){case K.Ab.CHANNEL:mt.log("starting a new tracker task for channels"),e=yield(0,r.rM)(vt);break;case K.Ab.ON_DEMAND_MOVIE:case K.Ab.ON_DEMAND_SERIES_EPISODE:mt.log("starting a new tracker task for on demand"),e=yield(0,r.rM)(vt),mt.log("waiting next play to avoid re-requesting session on buffering and etc");const[o,a]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(nt._h.request)),(0,r.qn)((0,y.getType)(l.F.request))]);o&&(mt.log("restart request, cancelling existing tracker task"),i=!0,yield(0,r.al)(e),e=null),a&&(mt.log("new playback request"),t=!1,n=!0);break;case K.Ab.VIRAL:mt.log("starting a new tracker task for viral"),yield(0,r.gz)((0,ot.x)());break;default:mt.log("content playing doesn't have stitcher, tracker not started")}}}function*ht(){yield(0,r.rM)(tt),yield(0,r.rM)(Et),yield(0,r.rM)(W)}var wt=n(18040),Dt=n(86885),bt=n(16728),Tt=n(92305);const St=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/globalEventHandlers/fullscreenChangeHandler/worker.ts");function*At({event:e}){var t,n;const i=e.target,o=(null==i||null===(t=i.ownerDocument)||void 0===t?void 0:t.fullscreenElement)||(null==i||null===(n=i.ownerDocument)||void 0===n?void 0:n.webkitCurrentFullScreenElement);o?o&&(St.log("fullscreen change worker executed fullscreenElement present"),yield(0,r.gz)(bt.T.success())):(St.log("fullscreen change worker executed no fullscreenElement"),yield(0,r.gz)(Tt.k.success()))}const Pt=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/globalEventHandlers/fullscreenChangeHandler/watcher.ts");function*It(){let e="";(0,wt.dJ)()&&(e="webkit");const t=yield(0,r.RE)(Dt.mM,n.g.document,e+"fullscreenchange");try{Pt.log("registering listener");const e=yield(0,r.ib)(t,At);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&t.close()}}var Ot=n(64986);const Rt=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/globalEventHandlers/orientationChangeHandler/worker.ts");function*kt(){let e;var t,i,o,a,l,s,d;e=(yield(0,r.Ys)(wt.dJ))?parseInt(null===(t=n.g.window)||void 0===t?void 0:t.orientation.toString()):null===(i=n.g.window)||void 0===i||null===(o=i.screen)||void 0===o?void 0:o.orientation.angle,90===Math.abs(e)?(Rt.log("device turned into landscape worker executed"),null===(a=n.g.window)||void 0===a||null===(l=a.document)||void 0===l||l.querySelectorAll("input").forEach((e=>{e.setAttribute("readonly","true")})),yield(0,r.gz)((0,Ot.P)())):(Rt.log("device turned into portrait worker executed"),null===(s=n.g.window)||void 0===s||null===(d=s.document)||void 0===d||d.querySelectorAll("input").forEach((e=>{e.removeAttribute("readonly")})),yield(0,r.gz)((0,Ot.i)()))}const Ct=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/globalEventHandlers/orientationChangeHandler/watcher.ts");function*Mt(){if(!(0,wt.kD)())return;const e=yield(0,r.RE)(Dt.mM,n.g.window,"orientationchange");try{Ct.log("registering listener");const t=yield(0,r.ib)(e,kt);yield(0,r.v_)(t)}finally{(yield(0,r.By)())&&e.close()}}function*zt(){yield(0,r.rM)(It),yield(0,r.rM)(Mt)}var Nt=n(2106),_t=n(68452),Vt=n(17172),Lt=n(26942);const Yt=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/addID3TagListenerForDashWorker.ts");function*qt(e){yield(0,r.gz)((0,h.YF)(e))}function*xt(e){for(;;){const t=yield(0,r.qn)(e);(yield(0,r.Ys)(it.VC))&&(yield(0,r.rM)(qt,t))}}function*Ht(){var e;const t=yield(0,r.fw)("videojs"),n=(0,Vt.channel)(),i=null==t||null===(e=t.Html5DashJS)||void 0===e?void 0:e.hook;i&&(yield(0,r.RE)(i,"beforeinitialize",(function(e,t){return Yt.log("createEmsgBox channel for ID3 tags in dash"),t.on("www.pluto.tv",(function(e){const t=e.event,i=Math.ceil(t.calculatedPresentationTime),r=(0,Lt.$)({dataBuffer:t.messageData,startTime:i});r.creativeID&&n.put(r)}),null,{mode:_t.MediaPlayer.events.EVENT_MODE_ON_RECEIVE}),Vt.channel})),yield(0,r.RE)(xt,n))}var jt=n(90847),Ft=n(93400);const Bt=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/controls/closedCaptionsSettings/persist/worker.ts"),Ut="ptv-closed-captions-style-settings";function*Xt(){const e=yield(0,r.Ys)(Ft.vL);Bt.log("closed captions style settings persisted state saved"),yield(0,r.RE)([localStorage,"setItem"],Ut,e)}function*$t(){const e=yield(0,r.RE)([localStorage,"getItem"],Ut),t=yield(0,r.RE)(JSON.parse,e),n={};return t&&(Object.values(K.CC).includes(t.fontFamily)&&(n.fontFamily=t.fontFamily),Object.values(K.xi).includes(t.fontSize)&&(n.fontSize=t.fontSize),Object.values(K.DO).includes(t.fontColor)&&(n.fontColor=t.fontColor),Object.values(K.KX).includes(t.fontOpacity)&&(n.fontOpacity=t.fontOpacity),Object.values(K.WY).includes(t.backgroundColor)&&(n.backgroundColor=t.backgroundColor),Object.values(K.Ml).includes(t.backgroundOpacity)&&(n.backgroundOpacity=t.backgroundOpacity),Object.values(K.pD).includes(t.textShadow)&&(n.textShadow=t.textShadow),Object.values(K.uC).includes(t.textShadowColor)&&(n.textShadowColor=t.textShadowColor),Object.values(K.l9).includes(t.textShadowOpacity)&&(n.textShadowOpacity=t.textShadowOpacity),Object.values(K.zi).includes(t.windowColor)&&(n.windowColor=t.windowColor),Object.values(K.yS).includes(t.windowOpacity)&&(n.windowOpacity=t.windowOpacity)),n}var Gt=n(38841);function*Kt(){return yield(0,r.RE)([localStorage,"getItem"],Gt.O)}var Qt=n(66152);const Wt=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/controls/volume/persist/worker.ts"),Zt="ptv-last-volume",Jt="ptv-volume-state";function*en(){try{const e=yield(0,r.Ys)(Qt.ry),t=yield(0,r.Ys)(Qt.T0);Wt.log("persisting values",{volumeLevel:t,volumeState:e}),yield(0,r.RE)([localStorage,"setItem"],Zt,t.toString()),yield(0,r.RE)([localStorage,"setItem"],Jt,e.toString()),Wt.log("success")}catch(e){Wt.error(e)}}function*tn(){let e=yield(0,r.RE)([localStorage,"getItem"],Zt);return e?(e=parseInt(e,10),isNaN(e)&&(e=100)):e=100,e}function*nn(){return yield(0,r.RE)([localStorage,"getItem"],Jt)}const rn=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/restorePersistedState.ts");function*on(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(nn),n=yield(0,r.RE)(tn);let i=yield(0,r.RE)(Kt);const o=yield(0,r.RE)($t);rn.log("values saved to the store",{persistedVolumeState:t,persistedLastVolume:n,persistedClosedCaptionsStatus:i,persistedClosedCaptionsStyleSettings:o});const a=t===K.wh.MUTED;yield(0,r.RE)([e,"muted"],a),a||(yield(0,r.RE)([e,"volume"],n/100)),!1===Object.values(K.Vw).includes(i)&&(i=K.Vw.OFF),yield(0,r.gz)(jt.v.success({closedCaptionsStatus:i,closedCaptionsStyleSettings:o,muted:a,volumeLevel:n}))}function*an(){return{name:"video.js",version:(yield(0,r.fw)("videojs")).VERSION}}n(92922);var ln=n(51114),sn=n(80211),dn=n(42383),cn=n(70072),un=n(53823),yn=n.n(un);function*pn(e){{const t=yield(0,r.Ys)(ln.xp),n=new(yn().Plugin)({accountCode:"plutotv"});n.setOptions({enabled:!0,"parse.hls":!0,"parse.cdnNodeHost":!0,"parse.cdnNode":!1,transactionCode:"","content.isLive":!1,"content.title":"","content.resource":"","content.customDimension.4":"","content.customDimension.7":"","content.customDimension.9":t});const i=new(yn().adapters.Videojs)(e);return n.setAdapter(i),n}}function*gn({ID:e,streamURL:t,type:n}){{let i="",o="",a="";switch(n){case K.Ab.ON_DEMAND_SERIES_EPISODE:o=e,i=a=yield(0,r.Ys)(cn.M,{contentID:e});break;case K.Ab.ON_DEMAND_MOVIE:i=yield(0,r.Ys)(dn.J,{contentID:e});break;case K.Ab.CHANNEL:i=yield(0,r.Ys)(sn.q,{channelID:e});break;default:i=""}(yield(0,r.fw)("youboraPlugin")).setOptions({transactionCode:n,"content.isLive":n===K.Ab.CHANNEL,"content.title":i,"content.resource":t,"content.customDimension.4":o,"content.customDimension.7":a})}}function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){(0,te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(60806);const mn=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/initializeAdapter.ts");function*En(e){const t=yield(0,r.fw)("videojs");return yield(0,r.RE)((async()=>await new Promise((i=>{var r;const o=t.getPlayers();let a=Object.values(o)[0];if(a)return i(a);const l=t.browser.IS_SAFARI;t.browser.IS_SAFARI||(n(68452),n(2232));const s=vn(vn({},{controlBar:!1,controls:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackDisplay:!1,posterImage:!1,textTrackSettings:!1,html5:{nativeTextTracks:!0,vhs:{handleManifestRedirects:!0,enableLowInitialPlaylist:!0,smoothQualityChange:!0,limitRenditionByPlayerDimensions:!0,handlePartialData:!0,useDevicePixelRatio:!0,experimentalBufferBasedABR:!1}}}),{},{html5:vn(vn({},{nativeTextTracks:!0,vhs:{handleManifestRedirects:!0,enableLowInitialPlaylist:!0,smoothQualityChange:!0,limitRenditionByPlayerDimensions:!0,handlePartialData:!0,useDevicePixelRatio:!0,experimentalBufferBasedABR:!1}}),{},{nativeVideoTracks:l,nativeAudioTracks:l,nativeTextTracks:!0})});mn.log("initializing video.js with options",s);const d={};null==t||null===(r=t.Html5DashJS)||void 0===r||r.hook("beforeinitialize",(function(e,t){t.updateSettings(vn(vn({},d),{},{streaming:{buffer:{reuseExistingSourceBuffers:!0,bufferPruningInterval:20,bufferToKeep:40,bufferTimeAtTopQuality:60,bufferTimeAtTopQualityLongForm:90,stallThreshold:.2},retryAttempts:{MPD:10,MediaSegment:10},retryIntervals:{MPD:300,MediaSegment:300},gaps:{threshold:.2},liveCatchup:{playbackRate:0,latencyThreshold:600}}}))})),a=t(e,s,(()=>{mn.log("video.js player initialized"),t.browser.IS_SAFARI&&a.eme(),i(a)}))}))))}var hn=n(659),wn=n(84361),Dn=n(91318),bn=n(58636),Tn=n(87014),Sn=n(64734),An=n(97120),Pn=n(76693),In=n(77656);function*On(){yield(0,r.rM)(In.J)}var Rn=n(60538),kn=n(93951);function*Cn(){yield(0,r.ib)([(0,y.getType)(Rn.P),(0,y.getType)(kn.M)],Xt)}function*Mn(){yield(0,r.rM)(Cn)}const zn=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/controls/fullscreen/enter/worker.ts");function Nn(e){return function(e){let t=e,n=0;for(;!t.classList.contains("video-player-layout");)if(t=t.parentElement,n++,n>5)return null;return t}(e).parentElement.parentElement}function*_n(){const e=yield(0,r.fw)("videoElement");try{const t=yield(0,r.RE)(Nn,e);if(!t)return;t.requestFullscreen?yield(0,r.RE)([t,t.requestFullscreen]):t.webkitRequestFullscreen&&(yield(0,r.RE)([t,t.webkitRequestFullscreen]))}catch(e){zn.error(e),yield(0,r.gz)(bt.T.failure(e.message))}}function*Vn(){yield(0,r.ib)((0,y.getType)(bt.T.request),_n)}const Ln=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/controls/fullscreen/exit/worker.ts");function*Yn(){const e=yield(0,r.fw)("videoElement");try{e.ownerDocument.fullscreenElement?(Ln.log("fullscreen exit worker executed"),yield(0,r.RE)([e.ownerDocument,"exitFullscreen"])):e.ownerDocument.webkitExitFullscreen&&(yield(0,r.RE)([e.ownerDocument,"webkitExitFullscreen"]))}catch(e){Ln.error(e),yield(0,r.gz)(Tt.k.failure(e.message))}}function*qn(){yield(0,r.ib)((0,y.getType)(Tt.k.request),Yn)}function*xn(){yield(0,r.rM)(qn),yield(0,r.rM)(Vn)}const Hn=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/controls/pauseVideo/worker.ts");function*jn(){const e=yield(0,r.fw)("playerInstance");try{if("function"!=typeof e.pause)throw new Error("video element in context is not valid");Hn.log("trying to pause the video"),yield(0,r.RE)([e,"pause"]),yield(0,r.gz)(s.D.success())}catch(e){Hn.error(e),yield(0,r.gz)(s.D.failure(e.message))}}function*Fn(){yield(0,r.ib)(s.D.request,jn)}const Bn=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/controls/playVideo/worker.ts");function*Un(){try{const e=yield(0,r.fw)("playerInstance");if("function"!=typeof e.play)throw new Error("video element in context is not valid");Bn.log("trying to play the video"),yield(0,r.RE)([e,"play"]),yield(0,r.gz)(rt.i.success())}catch(e){Bn.error(e),yield(0,r.gz)(rt.i.failure(e.message))}}function*Xn(){yield(0,r.ib)(rt.i.request,Un)}var $n=n(86800),Gn=n(56800);function*Kn(e){let t=e;if(t<0)t=0;else{const e=(yield(0,r.Ys)(Gn.z))/1e3;t>e&&(t=e)}t=Math.round(t);const n=yield(0,r.Ys)(je.ER,{offset:t});return n&&(t=n.startingOffset-1),{timeToSeek:t,hasBreak:!!n}}function*Qn({payload:{newTime:e}}){try{const t=yield(0,r.fw)("playerInstance");if("function"!=typeof t.currentTime)throw new Error("invalid video element");{const{timeToSeek:n,hasBreak:i}=yield(0,r.RE)(Kn,e);yield(0,r.RE)([t,"currentTime"],n),yield(0,r.gz)($n.r.success({newTime:n,overrideByAds:i})),i&&"function"==typeof t.play&&(yield(0,r.RE)([t,"play"]))}}catch(e){yield(0,r.gz)($n.r.failure({error:e}))}}function*Wn(){yield(0,r.ib)((0,y.getType)($n.r.request),Qn)}var Zn=n(15344),Jn=n(99512);const ei=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/controls/skipForward/worker.ts");function*ti(){try{const e=yield(0,r.fw)("playerInstance");if("function"!=typeof e.currentTime)throw new Error("invalid video element");{const t=15,n=yield(0,r.RE)([e,"currentTime"]);let i=n+t;const o=(yield(0,r.Ys)(Gn.z))/1e3,a=i>=o;if(i!==n){i<0?i=0:a&&(i=o),i=Math.floor(i);const n=yield(0,r.Ys)(je.ER,{offset:i});n&&(i=n.startingOffset-1),yield(0,r.RE)([e,"currentTime"],i),yield(0,r.gz)(Zn.f.success({newTime:i,timeSkipInSeconds:t,overrideByAds:!!n})),(yield(0,r.Ys)(Jn.H9))&&n&&!a&&(ei.log("Resuming ads after paused skipForwarding"),yield(0,r.gz)(rt.i.request()))}}}catch(e){yield(0,r.gz)(Zn.f.failure({error:e}))}}function*ni(){yield(0,r.ib)((0,y.getType)(Zn.f.request),ti)}var ii=n(18724);const ri=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/controls/skipRewind/worker.ts");function*oi(){try{const e=yield(0,r.fw)("playerInstance");if("function"!=typeof e.currentTime)throw new Error("invalid video element");{const t=15,n=yield(0,r.RE)([e,"currentTime"]);let i=n-t;const o=(yield(0,r.Ys)(Gn.z))/1e3;if(i!==n){i<0?i=0:i>o&&(i=o),i=Math.round(i);const n=yield(0,r.Ys)(je.ER,{offset:i});n&&(i=n.startingOffset),yield(0,r.RE)([e,"currentTime"],i),yield(0,r.gz)(ii.j.success({newTime:i,timeSkipInSeconds:t,overrideByAds:!!n})),(yield(0,r.Ys)(Jn.H9))&&n&&(ri.log("Resuming ads after paused skipRewinding"),yield(0,r.gz)(rt.i.request()))}}}catch(e){yield(0,r.gz)(ii.j.failure({error:e}))}}function*ai(){yield(0,r.ib)((0,y.getType)(ii.j.request),oi)}var li=n(94929);function*si(){try{const e=yield(0,r.fw)("playerInstance");if("function"!=typeof e.muted)throw new Error("invalid video element");{const t=100*(yield(0,r.RE)([e,"volume"]));yield(0,r.RE)([e,"muted"],!0),yield(0,r.gz)(li.M.success({volumeBeforeMute:t}))}}catch(e){yield(0,r.gz)(li.M.failure({error:e}))}}function*di(){yield(0,r.ib)((0,y.getType)(li.M.request),si)}var ci=n(34071),ui=n(42326);function*yi(){yield(0,r.Fm)([(0,y.getType)(li.M.success),(0,y.getType)(ui.s.success),(0,y.getType)(ci.c.success)],en)}function*pi({payload:{volumeLevel:e}}){try{const t=yield(0,r.fw)("playerInstance");if("function"!=typeof t.volume)throw new Error("invalid video element");{const n=Number((e/100).toFixed(2));yield(0,r.RE)([t,"volume"],n),yield(0,r.gz)(ci.c.success({volumeLevel:e}))}}catch(e){yield(0,r.gz)(ci.c.failure({error:e}))}}function*gi(){yield(0,r.ib)((0,y.getType)(ci.c.request),pi)}const fi=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/controls/volume/unmute/worker.ts");function*vi(){try{const e=yield(0,r.fw)("playerInstance");if("function"!=typeof e.muted)throw new Error("invalid video element");{const t=yield(0,r.Ys)(Qt.T0);fi.log("unmuting and restoring volume",{volumeBeforeMute:t}),yield(0,r.RE)([e,"muted"],!1),yield(0,r.RE)([e,"volume"],t/100),yield(0,r.gz)(ui.s.success({volumeLevel:+t}))}}catch(e){yield(0,r.gz)(ui.s.failure({error:e}))}}function*mi(){yield(0,r.ib)((0,y.getType)(ui.s.request),vi)}function*Ei(){yield(0,r.rM)(di),yield(0,r.rM)(mi),yield(0,r.rM)(gi),yield(0,r.rM)(yi)}function*hi(){yield(0,r.rM)(Ei),yield(0,r.rM)(Xn),yield(0,r.rM)(Fn),yield(0,r.rM)(Wn),yield(0,r.rM)(On),yield(0,r.rM)(Mn),yield(0,r.rM)(xn),yield(0,r.rM)(ni),yield(0,r.rM)(ai)}var wi=n(85215);const Di=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/dashJsErrorHandler/worker.ts");function*bi({event:e}){const{code:t,message:n,data:i}=e.error,{status:o}=(null==i?void 0:i.response)||{},a="string"==typeof(null==i?void 0:i.response)&&(null==i?void 0:i.response)||"";Di.error("video js dash failed",{code:t,message:n,status:o,responseText:a}),401===o?yield(0,r.gz)(nt._h.request({lastEventTimeMS:Date.now()})):yield(0,r.gz)((0,d.i)({error:new Error("videojs-dash-error"),data:{networkDetails:{status:o},type:"dashjs"}}))}const Ti=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/dashJsErrorHandler/watcher.ts");function Si(){return(0,Vt.eventChannel)((e=>{const t=(t,n)=>{e({player:t,mediaPlayer:n})},n=wi.Z.Html5DashJS;return n?(Ti.log("registering Html5DashJS beforeinitialize hook."),n.hook("beforeinitialize",t)):Ti.log("Html5DashJS not available."),()=>{null==n||n.removeHook("beforeinitialize",t)}}))}function*Ai(){var e;const t=yield(0,r.fw)("playerInstance");if(!wi.Z.Html5DashJS)return void Ti.log("Html5DashJS not available, error handler not registered");const n=yield(0,r.RE)(Si),{initData:i}=yield(0,r.S3)({initData:(0,r.qn)(n),delay:(0,u.A)(1e4)}),o=(null==i?void 0:i.mediaPlayer)||(null==t||null===(e=t.dash)||void 0===e?void 0:e.mediaPlayer);if(!o)return void Ti.log("dash media player not found, error handler not registered");const a=yield(0,r.RE)(Dt.qn,o,"error");try{Ti.log("registering listener");const e=yield(0,r.ib)(a,bi);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&a.close()}}var Pi=n(25029);const Ii=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/canPlayHandler/worker.ts");function*Oi(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.fw)("content");if(yield(0,r.Ys)(wt.dJ)){const n=yield(0,r.Ys)(Pi.T,{contentID:t.ID});Ii.log({continueWatchingPosition:n}),yield(0,r.RE)([e,"currentTime"],n)}}const Ri=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/canPlayHandler/watcher.ts");function*ki(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.qn,e,"canplay");try{Ri.log("waiting first play"),yield(0,r.qn)(t),yield(0,r.RE)(Oi)}finally{t.close()}}var Ci=n(23035);const Mi=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/durationChangeHandler/worker.ts");function*zi(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)([e,"duration"]);Mi.log("duration change",{totalDuration:t}),"number"==typeof t&&t!==1/0&&t>0&&(yield(0,r.gz)((0,Ci.V)({totalDuration:t})))}const Ni=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/durationChangeHandler/watcher.ts");function*_i(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.qn,e,"durationchange");try{Ni.log("registering listener");const e=yield(0,r.ib)(t,zi);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&t.close()}}var Vi=n(41782);const Li=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/endedHandler/worker.ts");function*Yi(){Li.log("play ended"),yield(0,r.gz)(Vi.M.success())}const qi=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/endedHandler/watcher.ts");function*xi(){yield(0,r.rM)(Hi),yield(0,r.rM)(ji)}function*Hi(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.qn,e,"ended");try{qi.log("registering ended listener");const e=yield(0,r.ib)(t,Yi);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&t.close()}}function*ji(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.qn,e,"playbackEnded");try{qi.log("registering playbackEnded listener");const e=yield(0,r.ib)(t,Yi);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&t.close()}}const Fi=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/errorHandler/worker.ts");function*Bi(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)([e,"error"]);Fi.error("video js failed",t),401===t.status?yield(0,r.gz)(nt._h.request({lastEventTimeMS:Date.now()})):3===t.code||4===t.code||5===t.code?yield(0,r.gz)((0,d.i)({error:new Error("videojs-src-not-supported-error"),data:t})):2===t.code&&t.message.includes(".mpd")?yield(0,r.gz)((0,d.i)({error:new Error("videojs-dash-error"),data:{type:"dashjs"}})):yield(0,r.gz)((0,d.i)({error:new Error("videojs-error"),data:t}))}const Ui=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/errorHandler/watcher.ts");function*Xi(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.qn,e,"error");try{Ui.log("registering listener");const e=yield(0,r.ib)(t,Bi);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&t.close()}}function*$i(){const e=yield(0,r.fw)("cookies");if(yield(0,r.Ys)(it.T4))return yield(0,r.RE)([e,"getItem"],"usprivacy")}var Gi=n(75119),Ki=n(23490),Qi=n(25518),Wi=n(16311),Zi=n(90409),Ji=n(41139),er=n(76511);function tr(e){return[K.Ab.ON_DEMAND_MOVIE,K.Ab.ON_DEMAND_SERIES_EPISODE].includes(e)}var nr=n(71376);function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){(0,te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const or=(0,c.gV)("/app/src/modules/videoPlayer/selectors/streamURL.ts");function ar(e,{hlsStreamUrlData:t,mpdStreamUrlData:n}){const i=!!n.path;return e===K.IB.MPD?i?n:t:i?rr(rr({},t),{},{path:null}):t}function lr(e,{content:{ID:t,type:n},token:i,streamType:r,paln:o,privacyString:a}){const l=function(e,t){return tr(t)?(0,it.EF)(e):!!function(e){return[K.Ab.CHANNEL].includes(e)}(t)&&(0,it.tt)(e)}(e,n),s=(0,it.j0)(e);let d=l?K.IB.MPD:K.IB.HLS,c=Boolean(!0).toString();(0,wt.dJ)()&&(c="false"),l&&r&&Object.values(K.IB).includes(r)&&(d=r),or.log("videoPlayerStreamURLByContentSelector - drmCapabilitiesEnabled",l),or.log("videoPlayerStreamURLByContentSelector - safeStreamType",{safeStreamType:d,streamType:r});const u=function(e,{content:{ID:t,type:n},token:i,streamType:r,paln:o,privacyString:a}){const l=(0,Gi.kT)(e),s=(0,nr.BN)(l);if(tr(n)){const n=(0,Pi.T)(e,{contentID:t});s.resumeAt=n.toString()}if(s.jwt=i,s.masterJWTPassthrough="true",(0,Ki.ll)(e)){const t=(0,Ki.NQ)(e);null!==t&&(s.gdpr=(0,Ki.m1)(e)?"1":"0",s.gdprConsent=t)}return(0,it.GL)(e)&&(s.includeExtendedEvents=Boolean(!0).toString()),(0,it.wh)(e)&&r===K.IB.HLS&&(s.isCertifyingOMSDK=Boolean(!0).toString()),o&&(s.paln=o),a&&(s.us_privacy=a),s}(e,{content:{ID:t,type:n},token:i,streamType:d,paln:o,privacyString:a});if(n===K.Ab.UPSELL_PROMOTION_VIDEO)return{path:(0,er.yu)(e),contentType:K.Vt[K.IB.HLS],streamType:K.IB.HLS};if(n===K.Ab.NON_STITCHED_CHANNEL)return{path:(0,Qi.G)(e,{channelID:t}),contentType:K.Vt[K.IB.HLS],streamType:K.IB.HLS};if(n===K.Ab.VIRAL)return{path:(0,Ji.O)(e,{viralClipID:t}),contentType:K.Vt[K.IB.HLS],streamType:K.IB.HLS};let y,p,g;switch(n){case K.Ab.CHANNEL:p={baseURL:(0,Gi.dR)(e),path:(0,Wi.G)(e,{channelID:t}),streamType:K.IB.MPD},g={baseURL:(0,Gi.d6)(e),path:(0,Wi.h)(e,{channelID:t}),streamType:K.IB.HLS},y=ar(d,{mpdStreamUrlData:p,hlsStreamUrlData:g});break;case K.Ab.ON_DEMAND_MOVIE:case K.Ab.ON_DEMAND_SERIES_EPISODE:p={baseURL:(0,Gi.dR)(e),path:(0,Zi.J)(e,{contentID:t}),streamType:K.IB.MPD},g={baseURL:(0,Gi.d6)(e),path:(0,Zi.N)(e,{contentID:t}),streamType:K.IB.HLS},y=ar(d,{mpdStreamUrlData:p,hlsStreamUrlData:g});break;default:throw new Error("Unexpected VideoPlayerContentTypeEnum")}const f=y.path,v=y.baseURL;if(d=y.streamType,!f)return or.error("Could not find a valid active stream:",{mpdStreamUrlData:p,hlsStreamUrlData:g,activeStreamUrlData:y}),{path:null,contentType:K.Vt[d],streamType:d};u.eventVOD=d===K.IB.MPD?s.toString():c;const m=(0,nr.QI)((0,nr.Lk)(v),u);return m.pathname=`/v2${f}`,{path:(0,nr.X8)(m),contentType:K.Vt[d],streamType:d}}var sr=n(26287),dr=n(44586);const cr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/generateGooglePALNonce.ts");function*ur(){var e,t;if(null!==(e=n.g.window)&&void 0!==e&&null!==(t=e.goog)&&void 0!==t&&t.pal)return;cr.log("waiting google pal script to be ready");const i=new Date;for(;;){var o,a;if((0,Re.a5)(new Date,i)>1e4)return void cr.log("couldn't load the Google Pal script");if(null!==(o=n.g.window)&&void 0!==o&&null!==(a=o.goog)&&void 0!==a&&a.pal)return void cr.log("google pal script ready");yield(0,r.S3)([(0,r.qn)("*"),(0,u.A)(100)])}}async function yr({pal:e,continuousPlayback:t,playerType:n,playerVersion:i,videoElement:r,descriptionUrl:o,url:a,ppid:l,omidPartnerName:s,omidPartnerVersion:d,omidVersion:c}){const u=Math.round(.6*r.ownerDocument.body.clientHeight),y=r.ownerDocument.body.clientWidth,p=new e.NonceRequest;p.adWillAutoPlay=!0,p.adWillPlayMuted=!0,p.continuousPlayback=t,p.descriptionUrl=o,p.iconsSupported=!1,p.url=a,p.playerType=n,p.playerVersion=i,p.videoHeight=u||0,p.videoWidth=y||0,p.ppid=l,p.omidPartnerName=s,p.omidPartnerVersion=d,p.omidVersion=c;try{const t=new e.ConsentSettings;t.allowStorage=!0;const n=new e.NonceLoader(t),i=await n.loadNonceManager(p);return cr.log("google pal nonce manager generated",{nonceManager:i,request:p}),i}catch(e){cr.log("google pal nonce manager not generated",{err:e,request:p})}}function*pr(){var e,t;let i=null;const o=yield(0,r.Ys)(it.m);yield(0,r.RE)(ur);const a=null===(e=n.g.window)||void 0===e||null===(t=e.goog)||void 0===t?void 0:t.pal;if(o&&a){const e="https://pluto.tv",t=yield(0,r.fw)("videoElement"),n=yield(0,r.Ys)(ee.mJ),o=yield(0,r.Ys)(sr.e),l=yield(0,r.Ys)(sr.P),s=yield(0,r.RE)(dr.Z),d="Plutotv",c=yield(0,r.Ys)(ln.xp),u="1.3.16";i=yield(0,r.RE)(yr,{pal:a,descriptionUrl:e,url:e,continuousPlayback:n,playerType:o,playerVersion:l,videoElement:t,ppid:s,omidPartnerName:d,omidPartnerVersion:c,omidVersion:u})}else cr.log("google pal nonce manager not generated",{isGooglePALEnabled:o,libLoaded:!!a});return i}function*gr(){var e,t;let i=null;const o=yield(0,r.Ys)(it.m);yield(0,r.RE)(ur);const a=null===(e=n.g.window)||void 0===e||null===(t=e.goog)||void 0===t?void 0:t.pal;if(o&&a){const e=yield(0,r.fw)("nonceManager");e?(i=yield(0,r.RE)(e.getNonce.bind(e)),cr.log("google pal nonce generated",{nonce:i})):cr.log("google pal nonce not generated, missing manager",{isGooglePALEnabled:o,libLoaded:!!a,nonceManager:e})}else cr.log("google pal nonce not generated",{isGooglePALEnabled:o,libLoaded:!!a});return i}const fr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/firstPlayHandler/worker.ts");function*vr(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.fw)("content"),n=yield(0,r.Ys)(Qt.T0),i=yield(0,r.RE)([e,"muted"]);if(fr.log("video player first play success",{mutedPlay:i,volume:n}),yield(0,r.Ys)(J.qK)){const n=yield(0,r.Ys)(Pi.T,{contentID:t.ID}),i=yield(0,r.RE)(gr),o=yield(0,r.RE)($i),{streamType:a}=yield(0,r.Ys)(lr,{content:t,token:"",paln:i,privacyString:o});if(n&&a!==K.IB.MPD){if("function"!=typeof e.currentTime)throw new Error("invalid video element");{const{timeToSeek:t,hasBreak:i}=yield(0,r.RE)(Kn,n),o=Math.max(0,t-1);yield(0,r.RE)([e,"currentTime"],o),yield(0,r.gz)($n.r.success({newTime:o,overrideByAds:i})),i&&"function"==typeof e.play&&(yield(0,r.RE)([e,"play"]))}}}yield(0,r.gz)(l.F.success({content:t,mutedPlay:i,volume:n}))}const mr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/firstPlayHandler/watcher.ts");function*Er(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.e6,e,"play");try{mr.log("waiting first play"),yield(0,r.qn)(t),yield(0,r.RE)(vr)}finally{t.close()}}var hr=n(30005);const wr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/loadstartHandler/worker.ts");function*Dr(){wr.log("loadstart"),yield(0,r.gz)(hr.A.success())}const br=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/loadstartHandler/watcher.ts");function*Tr(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.qn,e,"loadstart");try{br.log("registering listener");const e=yield(0,r.ib)(t,Dr);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&t.close()}}const Sr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/playingHandler/worker.ts");function*Ar(){const e=yield(0,r.Ys)(Jn.js);Sr.log("isBuffering",e),e&&(Sr.log("buffering complete"),yield(0,r.gz)(a.y.success()))}const Pr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/playingHandler/watcher.ts");function*Ir(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.qn,e,"playing");try{Pr.log("registering listener");const e=yield(0,r.ib)(t,Ar);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&t.close()}}var Or=n(47802);const Rr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/subtitlePlaylistLoaderErrorHandler/worker.ts");function*kr(e){try{var t,n,i,o,a,l,s,c;const u=yield(0,r.fw)("playerInstance"),y=null==u||null===(t=u.tech())||void 0===t||null===(n=t.vhs)||void 0===n||null===(i=n.masterPlaylistController_)||void 0===i||null===(o=i.mediaTypes_)||void 0===o||null===(a=o.SUBTITLES)||void 0===a||null===(l=a.groups)||void 0===l||null===(s=l.subs[0])||void 0===s||null===(c=s.playlistLoader)||void 0===c?void 0:c.error;Rr.error("video js subtitle playlist loader failed",{data:y,event:e}),yield(0,r.gz)((0,d.i)({error:new Error("subtitle-playlist-loader-errorHandler"),data:y}))}catch(e){Rr.error("Error handling subtitlePlaylistLoader error:",e),yield(0,r.gz)((0,d.i)({error:new Error("subtitle-playlist-loader-errorHandler"),data:null}))}}const Cr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/subtitlePlaylistLoaderErrorHandler/watcher.ts"),Mr=e=>e.type===(0,y.getType)(Or.L)&&e.payload.textTrackIndex>=1;function*zr(){const e=yield(0,r.fw)("playerInstance");let t;try{for(;;){var n,i,o,a,l,s,d;Cr.log("waiting for caption to load..."),yield(0,r.qn)(Mr);const c=null==e||null===(n=e.tech())||void 0===n||null===(i=n.vhs)||void 0===i||null===(o=i.masterPlaylistController_)||void 0===o||null===(a=o.mediaTypes_)||void 0===a||null===(l=a.SUBTITLES)||void 0===l||null===(s=l.groups)||void 0===s?void 0:s.subs,u=c?null===(d=c[0])||void 0===d?void 0:d.playlistLoader:null;Cr.log("creating subtitlePlaylistLoader error event channel",{subtitlePlaylistLoader:u}),t&&t.close(),u&&(t=yield(0,r.RE)(Dt.qn,u,"error"),Cr.log("registering playlistSegmentLoader error listener"),yield(0,r.ib)(t,kr))}}finally{(yield(0,r.By)())&&t&&t.close()}}const Nr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/subtitleSegmentLoaderErrorHandler/worker.ts");function*_r(){try{var e,t,n,i;const o=yield(0,r.fw)("playerInstance"),a=null==o||null===(e=o.tech())||void 0===e||null===(t=e.vhs)||void 0===t||null===(n=t.masterPlaylistController_)||void 0===n||null===(i=n.subtitleSegmentLoader_)||void 0===i?void 0:i.error();Nr.error("video js subtitle segment loader failed",a),yield(0,r.gz)((0,d.i)({error:new Error("subtitle-segment-loader-errorHandler"),data:a}))}catch(e){Nr.error("Error handling subtitleSegmentLoader error:",e),yield(0,r.gz)((0,d.i)({error:new Error("subtitle-segment-loader-errorHandler"),data:null}))}}const Vr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/subtitleSegmentLoaderErrorHandler/watcher.ts");function*Lr(){const e=yield(0,r.fw)("playerInstance");let t;try{for(;;){var n,i,o;Vr.log("waiting for caption to load..."),yield(0,r.qn)((e=>e.type===(0,y.getType)(Or.L)&&e.payload.textTrackIndex>=1));const a=null==e||null===(n=e.tech())||void 0===n||null===(i=n.vhs)||void 0===i||null===(o=i.masterPlaylistController_)||void 0===o?void 0:o.subtitleSegmentLoader_;Vr.log("creating subtitleSegmentLoader error event channel",{subtitleSegmentLoader:a}),t&&t.close(),a&&(t=yield(0,r.RE)(Dt.qn,a,"error"),Vr.log("registering subtitleSegmentLoader error listener"),yield(0,r.ib)(t,_r))}}finally{(yield(0,r.By)())&&t&&t.close()}}const Yr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/helpers/setTextTrackToHidden.ts");function*qr(){var e,t;const n=yield(0,r.fw)("playerInstance"),i=null==n?void 0:n.textTracks();var o;"subtitles"!==(null===(e=i[0])||void 0===e?void 0:e.kind)&&"captions"!==(null===(t=i[0])||void 0===t?void 0:t.kind)||"showing"===(null===(o=i[0])||void 0===o?void 0:o.mode)&&(Yr.log("ALERT! native caption is on unprovokedly!",i.length),i[0].mode="hidden",Yr.log("hidding native captions"))}const xr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/timeupdateHandler/fireCreativeDataEvents.ts");function*Hr(e,t){const n=null==e?void 0:e[0],{creativeID:i,currIndex:o,maxIndex:a,startTime:l,endTime:s,quartile:d}=n||{};if(t===l){const e=s-1;xr.log(`setting creativeID ${i}, index ${o}/${a}, creativeEndTime ${e}${d?`, quartile ${d}`:""}`),yield(0,r.gz)((0,h.OH)({creativeID:i,creativeEndTime:e})),yield(0,r.gz)((0,h.Iu)())}}function*jr(){const e=yield(0,r.fw)("playerInstance"),t=Math.floor(e.currentTime()),n=yield(0,r.Ys)(D.h),i=yield(0,r.Ys)(ee.LD),o=yield(0,r.Ys)(w.Xe),a=yield(0,r.Ys)(it.jq),l=yield(0,r.Ys)(it.VC);t>n&&!i&&(yield(0,r.gz)((0,xe.$)(t)),yield(0,r.RE)(qr)),(a||l)&&o.length&&(yield(0,r.rM)(Hr,o,t))}const Fr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/timeupdateHandler/watcher.ts");function*Br(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.qn,e,"timeupdate");try{Fr.log("registering timeupdate listener");const e=yield(0,r.ib)(t,jr);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&(Fr.log("closing timeupdate listener"),t.close())}}const Ur=(0,y.createAction)("@video_player/SET_TEXT_TRACK_ACTIVE_INDEX",(e=>e))();var Xr=n(91323);const $r=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/textTracks/setFirstCreativeID.ts");function*Gr({creativeID:e,startTime:t,quartile:n}){for(;;){if((yield(0,o.Ys)(D.h))===Math.ceil(t)){$r.log(`set hls first creativeID ${e}, ${n?` quartile ${n}`:""}`),yield(0,o.gz)((0,h.OH)({creativeID:e}));break}yield(0,o.gw)(500)}}const Kr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/textTracks/setTimedMetadata.ts");function*Qr(e,t){yield(0,r.gw)(1e3),Kr.log(`hls set delayed quartile start with creativeID ${e}`),yield(0,r.gz)((0,h.OH)({creativeID:e,creativeEndTime:t}))}function*Wr(e){const{creativeID:t,currIndex:n,maxIndex:i,quartile:o,endTime:a}=e,l=Math.floor(a)-1,s=yield(0,r.Ys)(w.xC);Kr.log(`found hls segment with ID3 tag and creativeID ${t}, index ${n}/${i}${o?`, quartile ${o}`:""}}`),null===s||o!==K.Yp.START?(Kr.log(`hls set creativeID ${t}, index ${n}/${i}, ${o?`quartile ${o}`:""}`),o!==K.Yp.COMPLETE&&(yield(0,r.gz)((0,h.OH)({creativeID:t,creativeEndTime:l})))):yield(0,r.rM)(Qr,t,l)}function*Zr(e){const t=yield(0,r.RE)(Dt.lz,e);for(;;)try{const e=yield(0,r.qn)(t);yield(0,r.rM)(Wr,e)}finally{(yield(0,r.By)())&&(Kr.log("closing channel and resetting creativeID"),yield(0,r.gz)((0,h.OH)({creativeID:null,creativeEndTime:null})),t.close())}}const Jr=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/textTracks/setTextTracks.ts");function*eo(e=!0){let t=-1;const n=(yield(0,r.fw)("playerInstance")).textTracks();let i;window.addEventListener("error",(e=>{const{message:t}=e;["Uncaught TypeError: Failed to set the 'endTime' property on 'TextTrackCue': The provided double value is non-finite.","TypeError: TextTrackCue.endTime setter: Value being assigned is not a finite floating-point value."].includes(t)&&e.preventDefault()}));for(let o=0;o<n.length;o++){const a=n[o];if("subtitles"!==a.kind&&"captions"!==a.kind||(t=o,Jr.log("toggle helper subtitles found",n[o]),Jr.log("hidding native captions"),a.mode="hidden"),"metadata"===a.kind&&e){a.mode="hidden",i=a;const e=a.cues[0],t=(0,Lt.$)({cue:e}),{creativeID:n,currIndex:o,maxIndex:l,quartile:s}=t;n&&(Jr.log(`found first hls segment with ID3 tag and creativeID ${n}, index ${o}/${l}, ${s?` quartile ${s}`:""}`),yield(0,r.rM)(Gr,t))}}i&&(yield(0,r.rM)(Zr,i)),yield(0,r.gz)(Ur(t))}const to=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/trackListAddTrackHandler/worker.ts");function*no(e=!0){const t=yield(0,r.Ys)(Xr.i);to.log("closedCaptionsEnabled",t),yield,yield(0,r.rM)(eo,e);const{payload:n}=yield(0,r.qn)((0,y.getType)(Ur));to.log("subtitlesOrCaptionsTextTrackIndex",n),yield(0,r.gz)((0,Or.L)({textTrackIndex:n}))}const io=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/trackListAddTrackHandler/watcher.ts");function*ro(){const e=wi.Z.getAllPlayers()[0],t=yield(0,r.RE)(Dt.qn,e.textTracks(),"addtrack");try{io.log("registering addtrack listener");const e=yield(0,r.Ys)(it.jq),n=yield(0,r.Fm)(t,no,e);yield(0,r.v_)(n)}finally{(yield(0,r.By)())&&t.close()}}function*oo(){const e=wi.Z.getAllPlayers()[0],t=yield(0,r.RE)(Dt.qn,e,"loadedmetadata");try{io.log("registering loadedmetadata listener");const e=yield(0,r.Fm)(t,no,!1);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&t.close()}}const ao=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/waitingHandler/worker.ts");function*lo(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)([e,"paused"]),n=yield(0,r.RE)([e,"tech"]);let i=!1;if(n&&n.vhs&&n.vhs.stats){var o;const r=Math.ceil((null===(o=n.vhs.stats.buffered[n.vhs.stats.buffered.length-1])||void 0===o?void 0:o.end)||0),a=Math.ceil(n.vhs.stats.currentTime||0);i=r<=a,ao.log("waiting playback",{playerInstance:e,bufferEndTime:r,currentTime:a,isPaused:t})}else i=!((yield(0,r.RE)([e,"readyState"]))>=ae.HAVE_CURRENT_DATA);i&&(ao.log("buffering start"),yield(0,r.gz)(a.y.request()))}const so=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/eventHandlers/waitingHandler/watcher.ts");function*co(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.qn,e,"waiting");try{so.log("registering listener");const e=yield(0,r.Fm)(t,lo);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&t.close()}}function*uo(){yield(0,r.rM)(Er),yield(0,r.rM)(Ir),yield(0,r.rM)(co),yield(0,r.rM)(xi),yield(0,r.rM)(Tr),yield(0,r.rM)(Br),yield(0,r.rM)(ro),yield(0,r.rM)(oo),yield(0,r.rM)(_i),yield(0,r.rM)(ki),yield(0,r.rM)(Xi),yield(0,r.rM)(Ai),yield(0,r.rM)(Lr),yield(0,r.rM)(zr)}var yo=n(99892),po=n(54427),go=n(16724),fo=n(45114),vo=n(30522),mo=n(72150);const Eo=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/setupJWT.ts");function*ho(){{Eo.log("setting up JWT");const e=yield(0,r.fw)("plutoTVAPIService");return yield(0,r.RE)([e,"getSessionToken"],!0)}}const wo=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/helpers/getFairplayConfig.ts");function Do(e){return{"com.apple.fps.1_0":{getCertificate:function(t,n){wo.log("DRM - getCertificate, requesting fairplay certificate to concierge"),e.ConciergeFairplayCertificate().then((e=>{wo.log("DRM - getCertificate, received certificate",e),n(null,e)})).catch((e=>{wo.log("DRM - getCertificate, error",e),n(e)}))},getContentId:function(e,t){try{var n;let i,r;if(wo.log("DRM - getContentId, parsing data for skd://. initData:",{emeOptions:e,initData:t}),"string"==typeof t)i=/skd:\/\/(.*)/.exec(t),wo.log("DRM - getContentId, regexResult",i);else{const e=new Uint16Array(t.buffer);wo.log("DRM - getContentId, uint16array",e);const n=String.fromCharCode.apply(null,e);wo.log("DRM - getContentId, uint16array",n),i=/skd:\/\/(.*)/.exec(n),wo.log("DRM - getContentId, regexResult",i)}if((null===(n=i)||void 0===n?void 0:n.length)>=1&&(r=i[1]),!r)throw new Error("skd not found in the parsed data");return wo.log("DRM - getContentId, skd value found",r),r}catch(e){wo.log("DRM - getContentId, error",e)}},getLicense:function(t,n,i,r){wo.log("DRM - getLicense, requesting fairplay license for content",n),e.ConciergeFairplayLicense(n,i).then((e=>{wo.log("DRM - getLicense, received key"),r(void 0,e)})).catch((e=>{wo.log("DRM - getLicense failed",e),r(e)}))}}}}function*bo(){const e=yield(0,r.fw)("plutoTVAPIService"),t=yield(0,r.RE)([e,e.getWidevineURL]);return t?{name:"com.widevine.alpha",options:{serverURL:t,priority:0}}:{}}function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){(0,te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ao=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/playURL.ts");function*Po(e){(0,mo.z0)("numberAds",0);const t=yield(0,r.fw)("content"),n=yield(0,r.fw)("playerInstance");Ao.log("check is non stitched type of channel"),(0,mo.z0)("rightLog","Playing ID: "+t.ID+" Type: "+t.type),t.type===K.Ab.NON_STITCHED_CHANNEL?(Ao.log("get stream url for non stitched channel"),yield(0,r.gz)(yo.$.request({channelID:t.ID})),Ao.log("wait stream url for non stitched channel request success"),yield(0,r.qn)((0,y.getType)(yo.$.success))):tr(t.type)&&((yield(0,r.Ys)(it.QA))?(yield(0,r.Ys)(go.ZS))||(Ao.log("waiting continue watching data restore"),yield(0,r.S3)([(0,r.qn)((0,y.getType)(po.j)),(0,u.A)(1e4)])):Ao.log("continue watching not enabled"));const i=yield(0,r.RE)(ho),o=yield(0,r.RE)(gr),a=yield(0,r.RE)($i),{path:s,contentType:c,streamType:p}=yield(0,r.Ys)(lr,{content:t,token:i,streamType:e,paln:o,privacyString:a});if(null==s)return Ao.error("Could not get a valid stream path for the content:",{content:t}),void(yield(0,r.gz)((0,d.i)({error:new Error("invalid-stream-path"),data:{}})));try{Ao.log("set source",s);const e=yield(0,r.fw)("plutoTVAPIService"),i={src:s,type:c};{const t=yield(0,r.RE)(Do,e),n=yield(0,r.RE)(bo);i.keySystems=So(So({},t),n),n.name&&(i.keySystemOptions=[n])}if(yield(0,r.RE)(gn,So(So({},t),{},{streamURL:s})),yield(0,r.RE)([n,"src"],i),yield(0,r.Ys)(O.Sw)){Ao.log("muted query detected, will mute");const e=yield(0,r.Ys)(P.D7),t=yield(0,r.Ys)(I.hK),i=yield(0,r.Ys)(O.CX);yield(0,r.gz)((0,A.Q)(e,t,{query:So(So({},i),{},{muted:void 0}),replace:!0})),yield(0,r.RE)([n,"muted"],!0)}yield(0,r.gz)((0,fo.U)()),Ao.log("set current stream type"),yield(0,r.gz)((0,vo.n)({streamType:p})),Ao.log("trying to auto play"),yield(0,r.RE)([n,"play"]),Ao.log("autoplay successful")}catch(e){Ao.log("autoplay failed, try to mute",e),yield(0,r.RE)([n,"muted"],!0);try{yield(0,r.RE)([n,"play"]),Ao.log("muted autoplay successful")}catch(e){(yield(0,r.RE)([n,"error"]))||(Ao.log("autoplay failed"),yield(0,r.gz)(l.F.failure({blockedPlay:!0,error:new Error("video-player-auto-play-failed")})))}}finally{return p}}function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){(0,te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ro=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/worker.ts");function*ko({payload:{content:e,retryCount:t}},n){if(Ro.log("retry stream requested",{content:e,retryCount:t,streamType:n}),t>=5)return Ro.log("retry limit reached"),void(yield(0,r.gz)(l.F.failure({blockedPlay:!0,error:new Error("max-retry")})));const i=5e3*(1+t/10);yield(0,u.A)(i),yield(0,r.gz)(l.F.request({content:e,streamType:n,retryCount:t+1}));const{failure:o,timeout:a,success:s}=yield(0,r.S3)({success:(0,r.qn)((0,y.getType)(l.F.success)),failure:(0,r.qn)((0,y.getType)(l.F.failure)),timeout:(0,u.A)(1e4)});if(a||o){const i=t>=2?K.IB.HLS:n;Ro.log(`retry delay reached of playstream failed, try to replay the same stream with type ${i}`),yield(0,r.gz)(l.F.request({content:e,retryCount:t+1,streamType:i}))}else s&&Ro.log("retry successfully requested videoPlayerPlayStreamAction")}function*Co(){const e={id:Tn.j.toastMessage,params:{preset:"contentPlaybackError",timeToDismiss:1e4,onPrimaryAction:{dismissOnClick:!0},onSecondaryAction:{actionToDispatch:(0,Sn.D)(),dismissOnClick:!0}}};yield(0,r.gz)((0,bn.IE)(e))}function*Mo(e){const{payload:{content:t,streamType:n}}=e;try{Ro.log("requested to play",{content:t,streamType:n}),yield(0,r.RE)(wn.R),Ro.log("waiting session reset"),yield(0,r.RE)(Dn.G);const i=yield(0,r.RE)(pr);yield(0,r.v)({content:t,nonceManager:i}),Ro.log("initializing event handlers"),yield(0,r.rM)(uo),Ro.log("playbackControlsRootSaga");const o=yield(0,r.rM)(hi);Ro.log("playing stream",{streamType:n}),yield(0,r.rM)(Po,n),Ro.log("stream playing, waiting actions to restart");const[a,l,s,c]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(d.i)),(0,r.qn)((0,y.getType)(nt._h.request)),(0,r.qn)((0,y.getType)(nt.R1.request)),(0,r.qn)((0,y.getType)(An.M.request)),(0,r.v_)(o)]);if(Ro.log("one of these events occurred: ",{streamError:a,bootstrapRestart:l,bootstrapRefresh:s,restoreAuthentication:c}),a)throw Ro.log("something went wrong with the stream"),a.payload.error;if(l){Ro.log("waiting bootstrap restart complete and replay the same stream");const[t,n]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(nt._h.success)),(0,r.qn)((0,y.getType)(nt._h.failure))]);if(n)throw n.payload.error;t&&(Ro.log("bootstap successfully restarted, replaying stream"),yield(0,r.RE)(ko,Oo(Oo({},e),{},{payload:Oo(Oo({},e.payload),{},{retryCount:0})})))}if(s){Ro.log("waiting bootstrap refresh complete and replay the same stream");const[t,n]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(nt.R1.success)),(0,r.qn)((0,y.getType)(nt.R1.failure))]);if(n)throw n.payload.error;t&&(Ro.log("bootstap successfully refreshed, replaying stream"),yield(0,r.RE)(ko,Oo(Oo({},e),{},{payload:Oo(Oo({},e.payload),{},{retryCount:0})})))}if(c){Ro.log("useraccount waiting to log user back in and then replay the same stream");const[t,n]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(An.M.success)),(0,r.qn)((0,y.getType)(An.M.failure))]);if(n)throw Ro.error("userAccountRestoreAuthenticationAction failed"),n.payload.error;t&&(Ro.log("useraccount user successfully logged back in, replaying stream"),yield(0,r.RE)(ko,Oo(Oo({},e),{},{payload:Oo(Oo({},e.payload),{},{retryCount:0})})))}}catch(t){Ro.error(t),["videojs-dash-error","max-retry","invalid-stream-path"].includes(null==t?void 0:t.message)?(yield(0,r.RE)(Pn.T),yield(0,r.RE)(Co)):"videojs-src-not-supported-error"!==(null==t?void 0:t.message)?yield(0,r.RE)(ko,e,n):yield(0,r.gz)(l.F.failure({blockedPlay:!0,error:new Error("src-not-supported")}))}finally{(yield(0,r.By)())&&(yield(0,r.RE)(eo,!1))}}function*zo(e){yield(0,r.Fm)(e,Mo),yield(0,r.Fm)((0,y.getType)(l.F.success),hn.e)}function*No(e){yield(0,r.RE)(zo,e)}const _o=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/worker.ts"),Vo=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/watcher.ts");function*Lo(){const e=yield(0,r.ZO)((0,y.getType)(l.F.request));var t;Vo.log("initializing watcher"),yield(0,r.Fm)((0,y.getType)(Nt.g.request),(t=e,function*(e){let n;try{const i=e.payload.videoElement;_o.log("video element recieved, checking adapter support");const{name:o,version:a}=yield(0,r.RE)(an);_o.log("adapter is valid"),_o.log("initializing adapter");const l=yield(0,r.Ys)(wt.dJ);n=yield(0,r.RE)(En,i),yield(0,r.rM)(Ht);const s=yield(0,r.RE)(pn,n);yield(0,r.v)({videoElement:i,playerInstance:n,youboraPlugin:s}),yield(0,r.RE)(on),l&&(yield(0,r.RE)(n.muted.bind(n),!0)),_o.log("spawning stream adapter and playback control root sagas");const d=yield(0,r.rM)(No,t);_o.log("all done"),yield(0,r.gz)(Nt.g.success({name:o,version:a})),yield(0,r.v_)(d)}catch(e){_o.error("an error happened",e),yield(0,r.gz)(Nt.g.failure({error:e}))}finally{(yield(0,r.By)())&&n&&(yield(0,r.RE)([n,"dispose"]))}})),yield(0,r.qn)((0,y.getType)(Nt.g.success))}function*Yo(){return{name:"avia",version:(yield(0,r.fw)("avia")).buildInfo.playerVersion}}const qo=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/persistWorker.ts");function*xo({payload:{content:{ID:e,type:t}}}){try{if(t===K.Ab.CHANNEL){const n=yield(0,r.fw)("cookies");yield(0,r.RE)([n,"setItem"],"ptv-last-content",`${t}|${e}`),qo.log("success")}}catch(e){qo.error(e)}}const Ho=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/controls/closedCaptions/persist/worker.ts"),jo="ptv-closed-captions";function*Fo(){const e=yield(0,r.Ys)(Xr.U);Ho.log("closed captions persisted state saved"),yield(0,r.RE)([localStorage,"setItem"],jo,e.toString())}function*Bo(){return yield(0,r.RE)([localStorage,"getItem"],jo)}const Uo=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/controls/volume/persist/worker.ts"),Xo="ptv-last-volume";function*$o(){try{const e=yield(0,r.Ys)(Qt.ry),t=yield(0,r.Ys)(Qt.T0);Uo.log("persisting values",{volumeLevel:t,volumeState:e}),yield(0,r.RE)([localStorage,"setItem"],Xo,t.toString()),yield(0,r.RE)([localStorage,"setItem"],"ptv-volume-state",e.toString()),Uo.log("success")}catch(e){Uo.error(e)}}function*Go(){let e=yield(0,r.RE)([localStorage,"getItem"],Xo);return e?(e=parseInt(e,10),isNaN(e)&&(e=100)):e=100,e}const Ko=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/restorePersistedState.ts");function*Qo(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.Ys)(Qt.ry),n=yield(0,r.RE)(Go);let i=yield(0,r.RE)(Bo);const o=yield(0,r.RE)($t);Ko.log("values saved to the store",{volumeState:t,persistedLastVolume:n,persistedClosedCaptionsStatus:i,persistedClosedCaptionsStyleSettings:o});const a=t===K.wh.MUTED;e.muted=a,a||(e.volume=n/100),!1===Object.values(K.Vw).includes(i)&&(i=K.Vw.OFF),yield(0,r.gz)(jt.v.success({closedCaptionsStatus:i,closedCaptionsStyleSettings:o,muted:a,volumeLevel:n}))}function*Wo(){{const e=yield(0,r.Ys)(ln.xp),t=new(yn().Plugin)({accountCode:"plutotv"});return t.setOptions({enabled:!0,"parse.hls":!0,"parse.cdnNodeHost":!0,"parse.cdnNode":!1,transactionCode:"","content.isLive":!1,"content.title":"","content.resource":"","content.customDimension.4":"","content.customDimension.7":"","content.customDimension.9":e}),t}}var Zo=n(35120),Jo=n(94226),ea=n(6063),ta=n(68877);function na(e){var t,n;return null===(t=e.videoPlayer)||void 0===t||null===(n=t.adapter)||void 0===n?void 0:n.id}const ia=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/initializeAdapter.ts");function*ra(e){const t=yield(0,r.fw)("avia"),n=yield(0,r.Ys)(na);n&&(ia.log("removing current avia instance",{currentPlayerId:n}),yield(0,r.RE)([t,"removeVideoPlayer"],n));const i={autoplay:Zo.pt.ATTEMPT_MUTED,container:e,logLevel:Zo.in.DEBUG,playsInline:!0,renderTextTrackNatively:!1,plugins:[(0,Jo.i8)({settings:{debug:{logLevel:0},streaming:{buffer:{reuseExistingSourceBuffers:!0,bufferPruningInterval:20,bufferToKeep:40,bufferTimeAtTopQuality:60,bufferTimeAtTopQualityLongForm:90,stallThreshold:.2},retryAttempts:{MPD:10,MediaSegment:10},retryIntervals:{MPD:300,MediaSegment:300},gaps:{threshold:.2},liveCatchup:{playbackRate:0,latencyThreshold:600}}}}),(0,ea.$6)({adapter:{hlsjs:{config:{debug:!1}}}})],networkErrorRecovery:{retryAttempts:5,retryIntervals:[100,200,300]},networkTimeout:2e3};ia.log("initializing avia with options:",i);const o=yield(0,r.RE)([t,"createVideoPlayer"],i);return o.autoQualitySwitching=!0,yield(0,r.gz)((0,ta.U)({instanceId:o.id})),o}const oa=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/helpers/setAviaTextTrackActiveIndex.ts");function*aa(){let e=-1;const t=(yield(0,r.fw)("playerInstance")).textTrackInfo.tracks;oa.log("textTracks",t);for(let n=0;n<t.length;n++){const i=t[n];"subtitles"!==i.kind&&"captions"!==i.kind||(e=n,oa.log("toggle helper subtitles found",t[n]))}return e}var la=n(48007),sa=n(75771);function*da(){yield(0,r.ib)([(0,y.getType)(la.Q),(0,y.getType)(sa.e)],Fo)}function*ca(){const e=yield(0,r.fw)("playerInstance");(yield(0,r.Ys)(Xr.U))===K.Vw.ON?e.textTrackEnabled=!0:e.textTrackEnabled=!1}function*ua(){yield(0,r.ib)([(0,y.getType)(la.Q),(0,y.getType)(sa.e)],ca)}function*ya(){yield(0,r.rM)(da),yield(0,r.rM)(ua)}const pa=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/controls/closedCaptionsSettings/persist/worker.ts");function*ga(){const e=yield(0,r.Ys)(Ft.vL);pa.log("closed captions style settings persisted state saved"),yield(0,r.RE)([localStorage,"setItem"],"ptv-closed-captions-style-settings",e)}function*fa(){yield(0,r.ib)([(0,y.getType)(Rn.P),(0,y.getType)(kn.M)],ga)}function*va(){yield(0,r.rM)(fa)}const ma=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/controls/fullscreen/enter/worker.ts");function Ea(e){return function(e){let t=e,n=0;for(;!t.classList.contains("video-player-layout");)if(t=t.parentElement,n++,n>5)return null;return t}(e).parentElement.parentElement}function*ha(){const e=yield(0,r.fw)("videoElement");try{const t=yield(0,r.RE)(Ea,e);if(!t)return;t.requestFullscreen?yield(0,r.RE)([t,t.requestFullscreen]):t.webkitRequestFullscreen&&(yield(0,r.RE)([t,t.webkitRequestFullscreen]))}catch(e){ma.error(e),yield(0,r.gz)(bt.T.failure(e.message))}}function*wa(){yield(0,r.ib)((0,y.getType)(bt.T.request),ha)}const Da=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/controls/fullscreen/exit/worker.ts");function*ba(){const e=yield(0,r.fw)("videoElement");try{e.ownerDocument.fullscreenElement?(Da.log("fullscreen exit worker executed"),yield(0,r.RE)([e.ownerDocument,"exitFullscreen"])):e.ownerDocument.webkitExitFullscreen&&(yield(0,r.RE)([e.ownerDocument,"webkitExitFullscreen"]))}catch(e){Da.error(e),yield(0,r.gz)(Tt.k.failure(e.message))}}function*Ta(){yield(0,r.ib)((0,y.getType)(Tt.k.request),ba)}function*Sa(){yield(0,r.rM)(Ta),yield(0,r.rM)(wa)}const Aa=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/controls/pauseVideo/worker.ts");function*Pa(){const e=yield(0,r.fw)("playerInstance");try{Aa.log("trying to pause the video"),yield(0,r.RE)([e,"pause"]),yield(0,r.gz)(s.D.success())}catch(e){Aa.error(e),yield(0,r.gz)(s.D.failure(e.message))}}function*Ia(){yield(0,r.ib)(s.D.request,Pa)}const Oa=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/controls/playVideo/worker.ts");function*Ra(){try{const e=yield(0,r.fw)("playerInstance");Oa.log("trying to play the video"),yield(0,r.RE)([e,"play"]),yield(0,r.gz)(rt.i.success())}catch(e){Oa.error(e),yield(0,r.gz)(rt.i.failure(e.message))}}function*ka(){yield(0,r.ib)(rt.i.request,Ra)}function*Ca(e){let t=e;if(t<0)t=0;else{const e=(yield(0,r.Ys)(Gn.z))/1e3;t>e&&(t=e)}t=Math.round(t);const n=yield(0,r.Ys)(je.ER,{offset:t});return n&&(t=n.startingOffset-1),{timeToSeek:t,hasBreak:!!n}}function*Ma({payload:{newTime:e}}){try{const t=yield(0,r.fw)("playerInstance"),{timeToSeek:n,hasBreak:i}=yield(0,r.RE)(Ca,e);yield(0,r.RE)([t,"seek"],n),yield(0,r.gz)($n.r.success({newTime:n,overrideByAds:i})),i&&(yield(0,r.RE)([t,"play"]))}catch(e){yield(0,r.gz)($n.r.failure({error:e}))}}function*za(){yield(0,r.ib)((0,y.getType)($n.r.request),Ma)}const Na=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/controls/skipForward/worker.ts");function*_a(){try{const e=yield(0,r.fw)("playerInstance"),t=15,n=e.streamTime;let i=n+t;const o=(yield(0,r.Ys)(Gn.z))/1e3;if(i!==n){i<0?i=0:i>o&&(i=o),i=Math.round(i);const n=yield(0,r.Ys)(je.ER,{offset:i});n&&(i=n.startingOffset),yield(0,r.RE)([e,"seek"],i),yield(0,r.gz)(Zn.f.success({newTime:i,timeSkipInSeconds:t,overrideByAds:!!n})),(yield(0,r.Ys)(Jn.H9))&&n&&(Na.log("Resuming ads after paused skipForwarding"),yield(0,r.gz)(rt.i.request()))}}catch(e){yield(0,r.gz)(Zn.f.failure({error:e}))}}function*Va(){yield(0,r.ib)((0,y.getType)(Zn.f.request),_a)}const La=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/controls/skipRewind/worker.ts");function*Ya(){try{const e=yield(0,r.fw)("playerInstance"),t=15,n=e.streamTime;let i=n-t;const o=(yield(0,r.Ys)(Gn.z))/1e3;if(i!==n){i<0?i=0:i>o&&(i=o),i=Math.round(i);const n=yield(0,r.Ys)(je.ER,{offset:i});n&&(i=n.startingOffset),yield(0,r.RE)([e,"seek"],i),yield(0,r.gz)(ii.j.success({newTime:i,timeSkipInSeconds:t,overrideByAds:!!n})),(yield(0,r.Ys)(Jn.H9))&&n&&(La.log("Resuming ads after paused skipRewinding"),yield(0,r.gz)(rt.i.request()))}}catch(e){yield(0,r.gz)(ii.j.failure({error:e}))}}function*qa(){yield(0,r.ib)((0,y.getType)(ii.j.request),Ya)}function*xa(){try{const e=yield(0,r.fw)("playerInstance"),t=100*e.volume;e.muted=!0,yield(0,r.gz)(li.M.success({volumeBeforeMute:t}))}catch(e){yield(0,r.gz)(li.M.failure({error:e}))}}function*Ha(){yield(0,r.ib)((0,y.getType)(li.M.request),xa)}function*ja(){yield(0,r.Fm)([(0,y.getType)(li.M.success),(0,y.getType)(ui.s.success),(0,y.getType)(ci.c.success)],$o)}function*Fa({payload:{volumeLevel:e}}){try{const t=yield(0,r.fw)("playerInstance"),n=Number((e/100).toFixed(2));t.volume=n,yield(0,r.gz)(ci.c.success({volumeLevel:e}))}catch(e){yield(0,r.gz)(ci.c.failure({error:e}))}}function*Ba(){yield(0,r.ib)((0,y.getType)(ci.c.request),Fa)}const Ua=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/controls/volume/unmute/worker.ts");function*Xa(){try{const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.Ys)(Qt.T0);Ua.log("unmuting and restoring volume",{volumeBeforeMute:t}),e.muted=!1,e.volume=t/100,yield(0,r.gz)(ui.s.success({volumeLevel:+t}))}catch(e){yield(0,r.gz)(ui.s.failure({error:e}))}}function*$a(){yield(0,r.ib)((0,y.getType)(ui.s.request),Xa)}function*Ga(){yield(0,r.rM)(Ha),yield(0,r.rM)($a),yield(0,r.rM)(Ba),yield(0,r.rM)(ja)}function*Ka(){yield(0,r.rM)(Ga),yield(0,r.rM)(ka),yield(0,r.rM)(Ia),yield(0,r.rM)(za),yield(0,r.rM)(ya),yield(0,r.rM)(va),yield(0,r.rM)(Sa),yield(0,r.rM)(Va),yield(0,r.rM)(qa)}const Qa=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/endedHandler/worker.ts");function*Wa(){Qa.log("play ended"),yield(0,r.gz)(Vi.M.success())}const Za=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/endedHandler/watcher.ts");function*Ja(){const e=yield(0,r.fw)("avia"),t=yield(0,r.fw)("playerInstance"),n=yield(0,r.RE)(Dt.qn,t,e.PlayerEvent.RESOURCE_END);try{Za.log("registering listener");const e=yield(0,r.ib)(n,Wa);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&n.close()}}const el=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/errorHandler/worker.ts");function*tl(e){const{event:t}=e,n=null==t?void 0:t.detail.error;!0===(null==n?void 0:n.fatal)?(el.error("avia fatal error, redirect to previous or liveTV",{err:e}),yield(0,r.gz)((0,d.i)({error:new Error("avia-fatal-error"),data:t}))):el.error("avia non-fatal error",{err:e})}const nl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/errorHandler/watcher.ts");function*il(){const e=yield(0,r.fw)("avia"),t=yield(0,r.fw)("playerInstance"),n=yield(0,r.RE)(Dt.qn,t,e.PlayerEvent.ERROR);try{nl.log("registering listener");const e=yield(0,r.ib)(n,tl);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&n.close()}}const rl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/firstPlayHandler/worker.ts");function*ol(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.fw)("content"),n=yield(0,r.Ys)(Qt.T0),i=e.muted,o=yield(0,r.RE)(Kt);if(e.textTrackEnabled=o===K.Vw.ON,rl.log("video player first play success",{mutedPlay:i,volume:n}),yield(0,r.Ys)(J.qK)){const n=yield(0,r.Ys)(Pi.T,{contentID:t.ID});if(n){const{timeToSeek:t,hasBreak:i}=yield(0,r.RE)(Ca,n);try{yield(0,r.RE)([e,"seek"],t),yield(0,r.gz)($n.r.success({newTime:t,overrideByAds:i}))}catch(e){rl.warn("could not seek to resumeAt on first play.",e)}i&&"function"==typeof e.play&&(yield(0,r.RE)([e,"play"]))}}yield(0,r.gz)(l.F.success({content:t,mutedPlay:i,volume:n}))}const al=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/firstPlayHandler/watcher.ts");function*ll(){const e=yield(0,r.fw)("avia"),t=yield(0,r.fw)("playerInstance"),n=yield(0,r.RE)(Dt.v0,t,e.PlayerEvent.CONTENT_PLAYING);try{al.log("waiting first play"),yield(0,r.qn)(n),yield(0,r.RE)(ol)}finally{n.close()}}var sl=n(2877);const dl={2:K.Yp.START,3:K.Yp.START,16:K.Yp.FIRST_QUARTILE,17:K.Yp.FIRST_QUARTILE,32:K.Yp.MIDPOINT,33:K.Yp.MIDPOINT,64:K.Yp.THIRD_QUARTILE,65:K.Yp.THIRD_QUARTILE,128:K.Yp.COMPLETE,129:K.Yp.COMPLETE},cl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/id3TagsHandler/readID3Tags.ts"),ul="www.pluto.tv:clik:";const yl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/id3TagsHandler/worker.ts");function*pl(e){yl.log("id3Data:",e);const{creativeID:t,currIndex:n,maxIndex:i,quartile:o,endTime:a}=e,l=Math.floor(a)-1,s=yield(0,r.Ys)(w.xC);if(yl.log(`found avia hls segment with ID3 tag and creativeID ${t}, index ${n}/${i}${o?`, quartile ${o}`:""}}`),o===K.Yp.START)return null!==s&&(yl.log("last creative complete event not triggered yet, delaying ad start..."),yield(0,r.gw)(1e3)),void(yield(0,r.gz)((0,h.OH)({creativeID:t,creativeEndTime:l})));o!==K.Yp.COMPLETE&&(yl.log("cmEvent Complete, videoPlayerSetMetadataCreativeIDAction payload:",{creativeID:t,creativeEndTime:l}),yield(0,r.gz)((0,h.OH)({creativeID:t,creativeEndTime:l})))}function*gl({event:e}){var t,n,i;yl.log("metadata cuepoint event:",{event:e});const o=null==e||null===(t=e.detail)||void 0===t?void 0:t.cue;if(!o)return;null!=o&&null!==(n=o.source)&&void 0!==n&&null!==(i=n.track)&&void 0!==i&&i.cues&&function(e){var t,n;const i=Object.values(null==e||null===(t=e.source)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.cues).map(((e,t)=>{if(e.endTime-e.startTime<.25)return e.endTime+=.25,t})).filter((e=>void 0!==e));i.length>0&&yl.log("found short lived cues found @:",i)}(o);const a=function({cue:e}){const t=(0,wt.dJ)(),{data:n,key:i,info:r}=e,o=(new TextDecoder).decode(n),a=function(){const e=[i].includes("PRIV");if((t||r)&&e)return cl.log("ID3 Tag found in info structure"),!0;if(o){const e=o.includes("ID3");return cl.log("ID3 Tag found in cueDataString ?",e),e}}(),l=function(){if(a){const e=r.includes(ul)||o.includes(ul);return cl.log("hasPlutoTvClik ?",e),e}return!1}(),s=function(){if(l){const e="999"===r?o:r,t=e.split(ul).pop().split("\0").shift();if(cl.log("getAdData:",{data:e,b64CreativeData:t}),t)try{const e=atob(t);return cl.log("Found b64CreativeData string to extract creativeID.",{b64CreativeData:t,creativeData:e}),e}catch(e){cl.error(`Error parsing ad data from ID3 Tag value: ${t}`,e)}}}(),d=void 0!==s;function c(){if(a&&d)return parseInt((0,sl.t2)(s.slice(23,24)),16)}function u(){if(a&&l)return parseInt((0,sl.t2)(s.slice(30,32)),16)}return cl.log("reading tags:",{cueDataString:o,cueHasId3:a,isClickableAds:l,hasAdData:d}),{creativeID:function(){if(d)return(0,sl.t2)(s.slice(5,17))}(),currIndex:c(),maxIndex:u(),endTime:function(){if(d)return u()-c()+function(){if(d)return e.startTime}()}(),quartile:function(){if(a){const e=new Uint8Array(n),t=e[n.byteLength-1],i=dl[t];return cl.log("quartile identified as:",{quartileEventByteValue:t,cmEvent:i,cueDataUnit8Array:e}),i}}()}}({cue:o});yield(0,r.RE)(pl,a)}const fl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/id3TagsHandler/watcher.ts");function*vl(){const e=yield(0,r.fw)("playerInstance"),t=yield(0,r.RE)(Dt.qn,e,Zo.rg.METADATA_CUEPOINT);try{fl.log("registering listener");const e=yield(0,r.ib)(t,gl);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&(fl.log("closing channel and resetting creativeID"),t.close(),yield(0,r.gz)((0,h.OH)({creativeID:null,creativeEndTime:null})))}}const ml=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/loadstartHandler/worker.ts");function*El(){ml.log("loadstart"),yield(0,r.gz)(hr.A.success())}const hl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/loadstartHandler/watcher.ts");function*wl(){const e=yield(0,r.fw)("avia"),t=yield(0,r.fw)("playerInstance"),n=yield(0,r.RE)(Dt.v0,t,e.PlayerEvent.CONTENT_START);try{hl.log("registering listener");const e=yield(0,r.ib)(n,El);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&n.close()}}const Dl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/playingHandler/worker.ts");function*bl(){const e=yield(0,r.Ys)(Jn.js);Dl.log("isBuffering",e),e&&(Dl.log("buffering complete"),yield(0,r.gz)(a.y.success()))}const Tl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/playingHandler/watcher.ts");function*Sl(){const e=yield(0,r.fw)("avia"),t=yield(0,r.fw)("playerInstance"),n=yield(0,r.RE)(Dt.qn,t,e.PlayerEvent.CONTENT_PLAYING);try{Tl.log("registering listener");const e=yield(0,r.ib)(n,bl);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&n.close()}}var Al=n(521),Pl=n(81160);const Il=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/textCuepointHandler/worker.ts");function*Ol({event:e}){Il.log("text cuepoint",e.detail.activeCues);try{const t=yield(0,r.Ys)(wt.IR),n=yield(0,r.Ys)(wt.dJ),i=e.detail.activeCues;if(i&&i.length>0){const e=i[0];e.track.mode="hidden";const o=e.snapToLines,a=e.align;let l=e.line,s=e.position,d="translate(-50%)";t||n?yield(0,r.gz)((0,Pl.D)({preparedTextTrack:{container:{transform:"rotate(0)"},window:{padding:""===e.text?0:10,bottom:"0%",left:"50%",transform:"translate(-50%)"},cueHtmlTextContent:e.getCueAsHTML().textContent.replace(/\n/g,"<br />")},displayTimeout:1e3*(e.endTime-e.startTime)})):(o?l<0&&(l=0):l=l>100||l<0||"auto"===l?0:100-l,"left"===a||"start"===a?(s=0,d="none"):"right"===a||"end"===a?(s=100,d="none"):"auto"!==s&&"center"!==a||(s=50,d="translate(-50%)"),yield(0,r.gz)((0,Pl.D)({preparedTextTrack:{container:{transform:""===e.vertical?"rotate(0)":"rotate(90deg)"},window:{padding:""===e.text?0:10,bottom:`${l}%`,left:`${s}%`,transform:d},cueHtmlTextContent:e.getCueAsHTML().textContent.replace(/\n/g,"<br />")},displayTimeout:0})))}else yield(0,r.gz)((0,Al.q)())}catch(e){console.log(e)}}const Rl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/textCuepointHandler/watcher.ts");function*kl(){const e=yield(0,r.fw)("avia"),t=yield(0,r.fw)("playerInstance"),n=yield(0,r.RE)(Dt.qn,t,e.PlayerEvent.TEXT_CUEPOINT);try{Rl.log("registering listener for text cuepoints");const e=yield(0,r.Fm)(n,Ol);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&n.close()}}var Cl=n(72351);const Ml=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/timeupdateHandler/worker.ts");function*zl(){const e=yield(0,r.fw)("playerInstance"),t=Math.floor(e.streamTime),n=e.streamDuration;Ml.log("is playing live",e.isPlayingLive);const i=yield(0,r.Ys)(D.h),o=yield(0,r.Ys)(ee.LD),a=yield(0,r.Ys)(Cl.V);Ml.log("content current time updated",t,e.streamTime),t>i&&!o&&(yield(0,r.gz)((0,xe.$)(t))),n!==a&&(yield(0,r.gz)((0,Ci.V)({totalDuration:n})))}const Nl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/timeupdateHandler/watcher.ts");function*_l(){const e=yield(0,r.fw)("avia"),t=yield(0,r.fw)("playerInstance"),n=yield(0,r.RE)(Dt.qn,t,e.PlayerEvent.CONTENT_PROGRESS);try{Nl.log("registering timeupdate listener");const e=yield(0,r.ib)(n,zl);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&(Nl.log("closing timeupdate listener"),n.close())}}const Vl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/trackListAddTrackHandler/worker.ts");function*Ll(){const e=yield(0,r.Ys)(Xr.i);Vl.log("closedCaptionsEnabled",e);const t=yield(0,r.RE)(aa);Vl.log("subtitlesOrCaptionsTextTrackIndex",t),yield(0,r.gz)((0,Or.L)({textTrackIndex:t}))}const Yl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/trackListAddTrackHandler/watcher.ts");function*ql(){const e=yield(0,r.fw)("avia"),t=yield(0,r.fw)("playerInstance"),n=yield(0,r.RE)(Dt.qn,t,e.PlayerEvent.TEXT_TRACK_AVAILABLE);try{Yl.log("registering listener");const e=yield(0,r.Fm)(n,Ll);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&n.close()}}const xl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/waitingHandler/worker.ts");function*Hl({event:e}){(null==e?void 0:e.detail.buffering)?(xl.log("buffering start"),yield(0,r.gz)(a.y.request())):(xl.log("buffering end"),yield(0,r.gz)(a.y.success()))}const jl=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/eventHandlers/waitingHandler/watcher.ts");function*Fl(){const e=yield(0,r.fw)("avia"),t=yield(0,r.fw)("playerInstance"),n=yield(0,r.RE)(Dt.qn,t,e.PlayerEvent.RESOURCE_BUFFERING);try{jl.log("registering listener");const e=yield(0,r.Fm)(n,Hl);yield(0,r.v_)(e)}finally{(yield(0,r.By)())&&n.close()}}function*Bl(){yield(0,r.rM)(ll),yield(0,r.rM)(Sl),yield(0,r.rM)(Fl),yield(0,r.rM)(Ja),yield(0,r.rM)(wl),yield(0,r.rM)(_l),yield(0,r.rM)(ql),yield(0,r.rM)(il),yield(0,r.rM)(kl),yield(0,r.rM)(vl)}const Ul=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/setupJWT.ts");function*Xl(){Ul.log("setting up JWT");const e=yield(0,r.fw)("avia"),t=yield(0,r.fw)("playerInstance"),n=yield(0,r.fw)("plutoTVAPIService"),i=yield(0,r.RE)([n,"getSessionToken"],!0),o=yield(0,r.RE)([n,n.getFairplayLicenseURL]);return t.registerHook(e.HookType.REQUEST,(e=>{const t=e.value;if(!t.url.includes(o))return;t.headers["Content-Type"]="application/json",t.headers.Authorization=`Bearer ${i}`;const{data:n}=t,[r,a]=n.contentId.split("/");t.data={kid:r,clipID:a,spc:n.spc}})),i}const $l=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/generateGooglePALNonce.ts");function*Gl(){var e,t;if(null!==(e=n.g.window)&&void 0!==e&&null!==(t=e.goog)&&void 0!==t&&t.pal)return;$l.log("waiting google pal script to be ready");const i=new Date;for(;;){var o,a;if((0,Re.a5)(new Date,i)>1e4)return void $l.log("couldn't load the Google Pal script");if(null!==(o=n.g.window)&&void 0!==o&&null!==(a=o.goog)&&void 0!==a&&a.pal)return void $l.log("google pal script ready");yield(0,r.S3)([(0,r.qn)("*"),(0,u.A)(100)])}}function*Kl(){var e,t;let i=null;const o=yield(0,r.Ys)(it.m);yield(0,r.RE)(Gl);const a=null===(e=n.g.window)||void 0===e||null===(t=e.goog)||void 0===t?void 0:t.pal;if(o&&a){const e=yield(0,r.fw)("nonceManager");e?(i=yield(0,r.RE)(e.getNonce.bind(e)),$l.log("google pal nonce generated",{nonce:i})):$l.log("google pal nonce not generated, missing manager",{isGooglePALEnabled:o,libLoaded:!!a,nonceManager:e})}else $l.log("google pal nonce not generated",{isGooglePALEnabled:o,libLoaded:!!a});return i}const Ql=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/helpers/getFairplayConfig.ts");function*Wl(){const e=yield(0,r.fw)("plutoTVAPIService"),t=yield(0,r.RE)([e,e.getFairplayCertificateURL]);Ql.log("got fairplay certificate url",{fairplayCertURL:t});const n=yield(0,r.RE)([e,e.getFairplayLicenseURL]),i=yield(0,r.RE)([e,"getSessionToken"],!0);if(!t||!n||!i)return{};const o={appCertUrl:t,licenseUrl:n,header:{Authorization:`Bearer ${i}`}};return Ql.log("Return fairplay config: ",{fairplayConfig:o}),o}function*Zl(){const e=yield(0,r.fw)("plutoTVAPIService"),t=yield(0,r.RE)([e,e.getWidevineURL]);return t?{url:t,priority:0}:{}}function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach((function(t){(0,te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ts=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/playURL.ts");function*ns(){const e=yield(0,r.fw)("content"),t=yield(0,r.fw)("playerInstance");ts.log("check is non stitched type of channel"),e.type===K.Ab.NON_STITCHED_CHANNEL?(ts.log("get stream url for non stitched channel"),yield(0,r.gz)(yo.$.request({channelID:e.ID})),ts.log("wait stream url for non stitched channel request success"),yield(0,r.qn)((0,y.getType)(yo.$.success))):[K.Ab.ON_DEMAND_MOVIE,K.Ab.ON_DEMAND_SERIES_EPISODE].includes(e.type)&&((yield(0,r.Ys)(go.ZS))||(yield(0,r.S3)([(0,r.qn)((0,y.getType)(po.j)),(0,u.A)(1e4)])));const n=yield(0,r.RE)(Xl),i=yield(0,r.RE)(Kl),o=yield(0,r.RE)($i),{path:a,streamType:s}=yield(0,r.Ys)(lr,{content:e,token:n,paln:i,privacyString:o});if(null==a)return ts.error("Could not get a valid stream path for the content:",{content:e}),void(yield(0,r.gz)((0,d.i)({error:new Error("invalid-stream-path"),data:{}})));const c="www.pluto.tv",p=(yield(0,r.Ys)(wt.dJ))?{}:{playback:{adapter:{id:ea.Rk},id3OwnerIds:[c]}},g={playback:{adapter:{id:Jo.bV},id3OwnerIds:[c]}};try{ts.log("set source",a);const e=es(es({},s===K.IB.MPD?g:p),{},{location:{mediaUrl:a,drm:{}}}),n=yield(0,r.RE)(Zl);n.url&&(e.location.drm=es(es({},e.location.drm),{},{widevine:n}));const i=yield(0,r.RE)(Wl);if(e.location.drm=es(es({},e.location.drm),{},{fairplay:i}),yield(0,r.RE)([t,"attachResource"],e),yield(0,r.Ys)(O.Sw)){ts.log("muted query detected, will mute");const e=yield(0,r.Ys)(P.D7),n=yield(0,r.Ys)(I.hK),i=yield(0,r.Ys)(O.CX);yield(0,r.gz)((0,A.Q)(e,n,{query:es(es({},i),{},{muted:void 0}),replace:!0})),t.muted=!0}yield(0,r.gz)((0,fo.U)()),ts.log("set current stream type"),yield(0,r.gz)((0,vo.n)({streamType:s}))}catch(e){ts.log("autoplay failed, try to mute",e),t.muted=!0;try{yield(0,r.RE)([t,"play"]),ts.log("muted autoplay successful")}catch(e){ts.log("autoplay failed"),yield(0,r.gz)(l.F.failure({blockedPlay:!0,error:new Error("video-player-auto-play-failed")}))}}return s}function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach((function(t){(0,te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const os=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/streamAdapter/playStream/worker.ts");function*as({payload:{content:e,retryCount:t}}){if(os.log("retry stream requested",{content:e,retryCount:t}),t>5)return os.log("retry limit reached"),void(yield(0,r.gz)(l.F.failure({blockedPlay:!0,error:new Error("max-retry")})));const n=5e3*(1+t/10);os.log(`try to replay the same stream in ${n}ms`),yield(0,r.gw)(n),yield(0,r.gz)(l.F.request({content:e,retryCount:t+1}))}function*ls(e){const{payload:{content:t}}=e;try{os.log("requested to play",{content:t}),yield(0,r.RE)(wn.R),os.log("waiting session reset"),yield(0,r.RE)(Dn.G);const n=yield(0,r.RE)(pr);yield(0,r.v)({content:t,nonceManager:n});const i=yield(0,r.fw)("videoElement");os.log("retrieving video instance,",{videoElement:i});const o=yield(0,r.RE)(ra,i);os.log("avia player initialized",o.id);const a=yield(0,r.RE)(Wo);yield(0,r.v)({playerInstance:o,youboraPlugin:a}),os.log("avia player initialized",o),os.log("initializing event handlers"),yield(0,r.rM)(Bl),os.log("playbackControlsRootSaga");const l=yield(0,r.rM)(Ka);os.log("playing stream"),yield(0,r.RE)(ns),yield(0,r.RE)(Qo),os.log("stream playing, waiting actions to restart");const[s,c,u,p]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(d.i)),(0,r.qn)((0,y.getType)(nt._h.request)),(0,r.qn)((0,y.getType)(nt.R1.request)),(0,r.qn)((0,y.getType)(An.M.request)),(0,r.v_)(l)]);if(os.log("one of these events occurred: ",{streamError:s,bootstrapRestart:c,bootstrapRefresh:u,restoreAuthentication:p}),s)throw os.log("something went wrong with the stream"),s.payload.error;if(c){os.log("waiting bootstrap restart complete and replay the same stream");const[t,n]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(nt._h.success)),(0,r.qn)((0,y.getType)(nt._h.failure))]);if(n)throw os.log("something went wrong with the bootstrap restart"),n.payload.error;t&&(os.log("bootstap successfully restarted, replaying stream"),yield(0,r.RE)(as,rs(rs({},e),{},{payload:rs(rs({},e.payload),{},{retryCount:0})})))}if(u){os.log("waiting bootstrap refresh complete and replay the same stream");const[t,n]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(nt.R1.success)),(0,r.qn)((0,y.getType)(nt.R1.failure))]);if(n)throw os.log("something went wrong with the bootstrap restart"),n.payload.error;t&&(os.log("bootstap successfully refreshed, replaying stream"),yield(0,r.RE)(as,rs(rs({},e),{},{payload:rs(rs({},e.payload),{},{retryCount:0})})))}if(p){os.log("useraccount waiting to log user back in and then replay the same stream");const[t,n]=yield(0,r.S3)([(0,r.qn)((0,y.getType)(An.M.success)),(0,r.qn)((0,y.getType)(An.M.failure))]);if(n)throw n.payload.error;t&&(os.log("useraccount user successfully logged back in, replaying stream"),yield(0,r.RE)(as,rs(rs({},e),{},{payload:rs(rs({},e.payload),{},{retryCount:0})})))}}catch(t){os.error(t),["max-retry","invalid-stream-path","avia-fatal-error"].includes(null==t?void 0:t.message)?(yield(0,r.RE)(Pn.T),yield(0,r.RE)(Co)):"video-stalled"===(null==t?void 0:t.message)?yield(0,r.RE)(as,e):yield(0,r.gz)(l.F.failure({blockedPlay:!0,error:new Error("src-not-supported")}))}finally{(yield(0,r.By)())&&(yield(0,r.RE)(aa))}}function*ss(e){yield(0,r.Fm)(e,ls),yield(0,r.Fm)((0,y.getType)(l.F.success),xo)}function*ds(e){yield(0,r.RE)(ss,e)}const cs=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/worker.ts"),us=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initializeAvia/watcher.ts");function*ys(){const e=yield(0,r.ZO)((0,y.getType)(l.F.request));var t;us.log("initializing watcher"),yield(0,r.Fm)((0,y.getType)(Nt.g.request),(t=e,function*(e){try{const n=e.payload.videoElement;cs.log("video element recieved, checking adapter support");const{name:i,version:o}=yield(0,r.RE)(Yo);yield(0,r.v)({videoElement:n}),cs.log("spawning stream adapter and playback control root sagas");const a=yield(0,r.rM)(ds,t);cs.log("all done"),yield(0,r.gz)(Nt.g.success({name:i,version:o})),yield(0,r.v_)(a)}catch(e){cs.error("an error happened",e),yield(0,r.gz)(Nt.g.failure({error:e}))}})),yield(0,r.qn)((0,y.getType)(Nt.g.success))}const ps=(0,c.gV)("/app/src/modules/videoPlayer/sagas/videoElement/textTrackActiveCueParameters/worker.ts");function*gs({payload:e}){try{if(isNaN(e.displayTimeout)||e.displayTimeout<=0)return void(0!==e.displayTimeout&&ps.warn("invalid display timeout:",e));ps.log(`text: ${e.preparedTextTrack.cueHtmlTextContent}, timeout: ${e.displayTimeout}`),yield(0,u.A)(e.displayTimeout),ps.log("clearing active text track"),yield(0,o.gz)((0,Al.q)())}finally{(yield(0,o.By)())&&ps.log(`text: ${e.preparedTextTrack.cueHtmlTextContent}, timeout cancelled`)}}function*fs(){yield(0,o.Fm)((0,y.getType)(Pl.D),gs)}function*vs(){yield(0,r.rM)(zt),yield(0,r.rM)(fs),(yield(0,r.Ys)(it.GB))?yield(0,r.RE)(ys):yield(0,r.RE)(Lo)}function*ms(){yield(0,r.rM)(vs),yield(0,r.rM)(ht),yield(0,r.rM)(X),yield(0,r.rM)(_),yield(0,r.rM)(E),yield(0,r.rM)(S)}function Es(){return{id:"videoPlayer",reducerMap:{videoPlayer:i.x},sagas:[ms]}}},37855:(e,t,n)=>{let i,r,o,a,l,s,d,c,u,y,p,g,f,v,m,E,h,w,D,b,T;n.d(t,{ug:()=>i,SW:()=>r,yu:()=>o,Vw:()=>a,Re:()=>l,wh:()=>s,UC:()=>d,Ab:()=>c,Yp:()=>u,CC:()=>y,xi:()=>p,DO:()=>g,KX:()=>f,WY:()=>v,Ml:()=>m,pD:()=>E,uC:()=>h,l9:()=>w,zi:()=>D,yS:()=>b,IB:()=>T,Vt:()=>S}),function(e){e.IDLE="idle",e.INITIALIZING="initializing",e.READY="ready",e.LOADING="loading",e.BUFFERING="buffering",e.PLAYING="playing",e.STOPPED="stopped",e.PAUSED="paused",e.BLOCKED_PLAY="blocked_play",e.ERROR="error"}(i||(i={})),function(e){e.EXPANDED="expanded",e.DOCKED="docked",e.FULLSCREEN="fullscreen"}(r||(r={})),function(e){e.EXPANDED="expanded",e.DOCKED="docked",e.FULLSCREEN="fullscreen",e.FULLBROWSER="fullbrowser"}(o||(o={})),function(e){e.ON="on",e.OFF="off"}(a||(a={})),function(e){e.HIDDEN="hidden",e.VISIBLE="visible",e.PERSISTENT="persistent"}(l||(l={})),function(e){e.MUTED="muted"}(s||(s={})),function(e){e.NONE="none",e.CONTENT="content",e.AD="ad"}(d||(d={})),function(e){e.VIRAL="viral",e.CHANNEL="channel",e.NON_STITCHED_CHANNEL="non-stitched-channel",e.ON_DEMAND_MOVIE="on-demand-movie",e.ON_DEMAND_SERIES_EPISODE="on-demand-series-episode",e.UPSELL_PROMOTION_VIDEO="upsell-promotion-video"}(c||(c={})),function(e){e.POD_START="podStart",e.POD_ALREADY_STARTED="podAlreadyStarted",e.BEGIN="begin",e.IMPRESSION="impression",e.START="start",e.FIRST_QUARTILE="firstQuartile",e.MIDPOINT="midpoint",e.THIRD_QUARTILE="thirdQuartile",e.COMPLETE="complete",e.END="end",e.CLEAR_CM_DATA="clearCmData",e.POD_END="podEnd"}(u||(u={})),function(e){e.typewriter="Typewriter",e.serif="Serif",e.block="Block",e.sans_serif="Sans-serif",e.casual="Casual",e.cursive="Cursive",e.small_capitals="Small Capitals"}(y||(y={})),function(e){e.extra_small="1.2rem",e.small="1.4rem",e.medium="1.6rem",e.large="1.8rem",e.extra_large="2.0rem",e.extra_extra_large="2.2rem"}(p||(p={})),function(e){e.black="0, 0, 0",e.white="255, 255, 255",e.red="255, 0, 0",e.green="0, 255, 0",e.blue="0, 0, 255",e.yellow="255, 255, 0",e.cyan="0, 255, 255",e.magenta="255, 0, 255"}(g||(g={})),function(e){e["0%"]="0",e["25%"]="0.25",e["50%"]="0.5",e["75%"]="0.75",e["100%"]="1"}(f||(f={})),function(e){e.black="0, 0, 0",e.white="255, 255, 255",e.red="255, 0, 0",e.green="0, 255, 0",e.blue="0, 0, 255",e.yellow="255, 255, 0",e.cyan="0, 255, 255",e.magenta="255, 0, 255"}(v||(v={})),function(e){e["0%"]="0",e["25%"]="0.25",e["50%"]="0.5",e["75%"]="0.75",e["100%"]="1"}(m||(m={})),function(e){e.no_edge="No Edge",e.raised="Raised",e.depressed="Depressed",e.uniform="Uniform",e.drop_shadow="Drop Shadow"}(E||(E={})),function(e){e.black="0, 0, 0",e.white="255, 255, 255",e.red="255, 0, 0",e.green="0, 255, 0",e.blue="0, 0, 255",e.yellow="255, 255, 0",e.cyan="0, 255, 255",e.magenta="255, 0, 255"}(h||(h={})),function(e){e["0%"]="0",e["25%"]="0.25",e["50%"]="0.5",e["75%"]="0.75",e["100%"]="1"}(w||(w={})),function(e){e.black="0, 0, 0",e.white="255, 255, 255",e.red="255, 0, 0",e.green="0, 255, 0",e.blue="0, 0, 255",e.yellow="255, 255, 0",e.cyan="0, 255, 255",e.magenta="255, 0, 255"}(D||(D={})),function(e){e["0%"]="0",e["25%"]="0.25",e["50%"]="0.5",e["75%"]="0.75",e["100%"]="1"}(b||(b={})),function(e){e.MPD="mpd",e.HLS="hls"}(T||(T={}));const S={[T.MPD]:"application/dash+xml",[T.HLS]:"application/x-mpegURL"}},43419:(e,t,n)=>{n.d(t,{G:()=>Ve,x:()=>Le});var i=n(70789),r=n(45114),o=n(68877),a=n(16728),l=n(92305),s=n(93951),d=n(11855),c=n(78277),u=n(70611),y=n(4697),p=n(37570),g=n(94361),f=n(91757),v=n(60538),m=n(53147),E=n(521),h=n(47802),w=n(17522),D=n(48007),b=n(74552),T=n(84417),S=n(23035),A=n(75771),P=n(41782),I=n(67194),O=n(2106),R=n(88618),k=n(94929),C=n(57289),M=n(95311),z=n(92299),N=n(36303),_=n(86800),V=n(90847),L=n(30522),Y=n(90692),q=n(81160),x=n(82344),H=n(40926),j=n(34071),F=n(45227),B=n(15344),U=n(18724),X=n(56297),$=n(40043),G=n(81117),K=n(29849),Q=n(42326),W=n(25634),Z=n(37855),J=n(60401),ee=n(77342),te=n(43018),ne=n(110),ie=n(47789),re=n(90975),oe=n(21358),ae=n(21442),le=n(55351),se=n(68939),de=n(25653),ce=n(44073),ue=n(46851),ye=n(91576),pe=n(93449),ge=n(16822),fe=n(30965),ve=n(29449),me=n(73188),Ee=n(22639),he=n(25844),we=n(46474),De=n(86460),be=n(94461),Te=n(58297),Se=n(38644),Ae=n(90714),Pe=n(52976),Ie=n(34204),Oe=n(49940),Re=n(57138),ke=n(73457),Ce=n(33808),Me=n(7569),ze=n(70500),Ne=n(18512),_e=n(4856);const Ve={status:Z.ug.IDLE,adapter:{id:null,name:null,version:null},content:{ID:null,type:null},metadata:{creativeID:null,creativeEndTime:null,creativeDataList:[]},player:{timePriorToSeek:null,currentTime:0,totalDuration:null,currentStreamType:null},ui:{state:Z.SW.EXPANDED,overlayState:Z.Re.HIDDEN,lastVolumeLevel:0,volumeState:Z.wh.MUTED,playingState:Z.UC.NONE,isFocused:!1,showUndockedAccessibilityMessage:!1,autoFocus:!1},closedCaption:{status:Z.Vw.OFF,style:{fontFamily:Z.CC.sans_serif,fontSize:Z.xi.medium,fontColor:Z.DO.white,fontOpacity:Z.KX["100%"],backgroundColor:Z.WY.black,backgroundOpacity:Z.Ml["75%"],textShadow:Z.pD.no_edge,textShadowColor:Z.uC.black,textShadowOpacity:Z.l9["50%"],windowColor:Z.zi.black,windowOpacity:Z.yS["0%"]},textTrackIndex:-1,textTrackActiveCueParameters:null},session:{breaks:null,pendingCmData:{cmPod:null,events:null},currentAdData:{startTime:null,ads:null}},routePreviouslyExpanded:null,disableRedirectOnClipEnd:!1,error:null},Le=(0,f.createReducer)(Ve).handleAction(O.g.request,ue.q7).handleAction(O.g.success,ue.GU).handleAction(O.g.failure,ue.b0).handleAction(o.U,c.u).handleAction(z.F.request,ve.MV).handleAction(z.F.success,ve.Ey).handleAction(z.F.failure,ve.zx).handleAction(M.F,fe.h).handleAction(F.M.success,Ie.u).handleAction(I.$.success,ce.Z).handleAction(Q.s.success,Ne.A).handleAction(k.M.success,pe.c).handleAction(j.c.success,Pe.e).handleAction(_.r.request,Ee.Gg).handleAction(_.r.success,Ee.mJ).handleAction(_.r.failure,Ee.J9).handleAction(N.i.success,me.B).handleAction(N.i.failure,me.L).handleAction(C.D.success,ge.Q).handleAction(G.i,Me.b).handleAction(T.W,ae.f).handleAction(K.B,ze.v).handleAction(w.E,ie.x).handleAction(Y.$,De.N).handleAction(r.U,d.c).handleAction(m.y.request,ee.I).handleAction(m.y.success,ee.o).handleAction(P.M.success,de.K).handleAction(P.M.failure,de.Z).handleAction(A.e,se.W).handleAction(W.q,_e.H).handleAction(W.H,_e.A).handleAction(D.Q,re.d).handleAction(V.v.success,he.i).handleAction(v.P,J.e).handleAction(s.M,p.z).handleAction(a.T.success,u.M).handleAction(a.T.failure,u.c).handleAction(l.k.success,y.N).handleAction(l.k.failure,y.k).handleAction(h.L,ne.R).handleAction(X.o,ke.h).handleAction($.T,Ce.m).handleAction(R.N,ye.i).handleAction(B.f.success,Oe.M).handleAction(U.j.success,Re.K).handleAction(S.V,le.z).handleAction(b.M,oe.B).handleAction(i.Q,g.V).handleAction(q.D,be.J).handleAction(E.q,te.f).handleAction(L.n,we.G).handleAction(x._,Te.s).handleAction(H.OH,Ae.W).handleAction(H.YF,Se.MI).handleAction(H.Iu,Se.VS)},26942:(e,t,n)=>{n.d(t,{$:()=>l});var i=n(18040),r=n(37855),o=n(2877);const a=(0,n(64687).gV)("/app/src/modules/videoPlayer/sagas/videoElement/helpers/readID3Tags.ts");function l({cue:e,dataBuffer:t,startTime:n}){const l=(0,i.dJ)(),s=null==e?void 0:e.value,d=null==s?void 0:s.data,c=l?null==s?void 0:s.info:null==s?void 0:s.owner,u=function(){if(g()){const e=/www.pluto.tv:clik:/g,n=c||(new TextDecoder).decode(t);return e.test(n)}return!1}(),y=function(){if(u){var e,n;const i=/(www.pluto.tv:clik:)[^.]{44}/g,r=null===(e=(c||(new TextDecoder).decode(t)).match(i))||void 0===e||null===(n=e[0])||void 0===n?void 0:n.replace("www.pluto.tv:clik:","");if(a.log("found encodedBase64 string to extract creativeID",r),r)return atob(r)}}(),p=!!y;function g(){if(e&&"value"in e&&void 0!==s||t){const e="PRIV"===(null==s?void 0:s.key);if(l&&e)return!0;const n=(null==d?void 0:d.buffer)||t;if(n)return"ID3"===(new TextDecoder).decode(n.slice(0,3))}return!1}function f(){if(p)return(null==e?void 0:e.startTime)||n}function v(){if(g()&&p)return parseInt((0,o.t2)(y.slice(23,24)),16)}function m(){if(g()&&u)return parseInt((0,o.t2)(y.slice(30,32)),16)}return{creativeID:function(){if(p)return(0,o.t2)(y.slice(5,17))}(),currIndex:v(),maxIndex:m(),startTime:f(),endTime:function(){if(p)return m()-v()+f()}(),quartile:function(){if(g()){const e=2,n=16,i=32,o=64,a=128,s=3,c=17,u=33,y=65,p=129,g=l?new Uint8Array(d)[3]:null==d?void 0:d[3],f=d?g:null==t?void 0:t[t.length-1];if([e,s].includes(f))return r.Yp.START;if([n,c].includes(f))return r.Yp.FIRST_QUARTILE;if([i,u].includes(f))return r.Yp.MIDPOINT;if([o,y].includes(f))return r.Yp.THIRD_QUARTILE;if([a,p].includes(f))return r.Yp.COMPLETE}}()}}},38841:(e,t,n)=>{n.d(t,{O:()=>l,e:()=>s});var i=n(91323),r=n(64687),o=n(24970);const a=(0,r.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/controls/closedCaptions/persist/worker.ts"),l="ptv-closed-captions";function*s(){const e=yield(0,o.Ys)(i.U);a.log("closed captions persisted state saved"),yield(0,o.RE)([localStorage,"setItem"],l,e.toString())}},659:(e,t,n)=>{n.d(t,{x:()=>l,e:()=>s});var i=n(37855),r=n(64687),o=n(24970);const a=(0,r.gV)("/app/src/modules/videoPlayer/sagas/videoElement/initialize/streamAdapter/playStream/persistWorker.ts"),l="ptv-last-content";function*s({payload:{content:{ID:e,type:t}}}){try{if(t===i.Ab.CHANNEL){const n=yield(0,o.fw)("cookies");yield(0,o.RE)([n,"setItem"],l,`${t}|${e}`),a.log("success")}}catch(e){a.error(e)}}},21263:(e,t,n)=>{n.d(t,{l:()=>l});var i=n(2106),r=n(99512),o=n(24970),a=n(91757);function*l(){(yield(0,o.Ys)(r.iR))||(yield(0,o.qn)([(0,a.getType)(i.g.success),(0,a.getType)(i.g.failure)]))}},26287:(e,t,n)=>{n.d(t,{e:()=>r,P:()=>o});var i=n(43419);function r(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.adapter.name)||i.G.adapter.name}function o(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.adapter.version)||i.G.adapter.version}},91323:(e,t,n)=>{n.d(t,{U:()=>o,i:()=>a});var i=n(37855),r=n(43419);function o(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.status)||r.G.closedCaption.status}function a(e){return o(e)===i.Vw.ON}},96551:(e,t,n)=>{n.d(t,{V:()=>r,E:()=>a});var i=n(55257);function r(e){var t;return null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.textTrackIndex}const o=["US","CA"];function a(e){const t=(0,i.m)(e);return!!o.includes(t)&&-1!==r(e)}},93400:(e,t,n)=>{n.d(t,{cz:()=>a,$1:()=>l,QW:()=>d,a8:()=>c,E1:()=>u,JC:()=>y,ZV:()=>p,xM:()=>g,j4:()=>f,tX:()=>v,J1:()=>m,qo:()=>E,AW:()=>h,uU:()=>w,Z3:()=>D,xd:()=>b,CF:()=>S,TL:()=>A,Dn:()=>P,ni:()=>I,lS:()=>O,a7:()=>R,kQ:()=>k,AR:()=>C,jC:()=>M,j5:()=>z,vL:()=>N});var i=n(37855),r=n(43419),o=n(39788);function a(e){var t;const n=(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.fontFamily)||r.G.closedCaption.style.fontFamily;return o.K[n]}function l(e){const t=a(e),[n,r]=Object.entries(i.CC).find((([,e])=>e===Object.keys(o.K).find((e=>o.K[e]===t))));return{key:n,value:r}}function s(e){const t=a(e),[,n]=Object.entries(i.CC).find((([,e])=>e===Object.keys(o.K).find((e=>o.K[e]===t))));return n}function d(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.fontSize)||r.G.closedCaption.style.fontSize}function c(e){const t=d(e),[n,r]=Object.entries(i.xi).find((([,e])=>e===t));return{key:n,value:r}}function u(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.fontColor)||r.G.closedCaption.style.fontColor}function y(e){const t=u(e),[n,r]=Object.entries(i.DO).find((([,e])=>e===t));return{key:n,value:r}}function p(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.fontOpacity)||r.G.closedCaption.style.fontOpacity}function g(e){const t=p(e),[n,r]=Object.entries(i.KX).find((([,e])=>e===t));return{key:n,value:r}}function f(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.backgroundColor)||r.G.closedCaption.style.backgroundColor}function v(e){const t=f(e),[n,r]=Object.entries(i.WY).find((([,e])=>e===t));return{key:n,value:r}}function m(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.backgroundOpacity)||r.G.closedCaption.style.backgroundOpacity}function E(e){const t=m(e),[n,r]=Object.entries(i.Ml).find((([,e])=>e===t));return{key:n,value:r}}function h(e){return`rgba(${u(e)}, ${p(e)})`}function w(e){return`rgba(${f(e)}, ${m(e)})`}function D(e){var t;const n=(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.textShadow)||r.G.closedCaption.style.textShadow;return o.z[n]}function b(e){const t=D(e),[n,r]=Object.entries(i.pD).find((([,e])=>e===Object.keys(o.z).find((e=>o.z[e]===t))));return{key:n,value:r}}function T(e){const t=D(e),[,n]=Object.entries(i.pD).find((([,e])=>e===Object.keys(o.z).find((e=>o.z[e]===t))));return n}function S(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.textShadowColor)||r.G.closedCaption.style.textShadowColor}function A(e){const t=S(e),[n,r]=Object.entries(i.uC).find((([,e])=>e===t));return{key:n,value:r}}function P(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.textShadowOpacity)||r.G.closedCaption.style.textShadowOpacity}function I(e){const t=P(e),[n,r]=Object.entries(i.l9).find((([,e])=>e===t));return{key:n,value:r}}function O(e){const t=D(e),n=S(e),r=P(e);return t===o.z[i.pD.no_edge]?"none":`${t} rgba(${n}, ${r})`}function R(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.windowColor)||r.G.closedCaption.style.windowColor}function k(e){const t=R(e),[n,r]=Object.entries(i.zi).find((([,e])=>e===t));return{key:n,value:r}}function C(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.closedCaption.style.windowOpacity)||r.G.closedCaption.style.windowOpacity}function M(e){const t=C(e),[n,r]=Object.entries(i.yS).find((([,e])=>e===t));return{key:n,value:r}}function z(e){return`rgba(${R(e)}, ${C(e)})`}function N(e){return JSON.stringify({fontFamily:s(e),fontSize:d(e),fontColor:u(e),fontOpacity:p(e),backgroundColor:f(e),backgroundOpacity:m(e),textShadow:T(e),textShadowColor:S(e),textShadowOpacity:P(e),windowColor:R(e),windowOpacity:C(e)})}},67184:(e,t,n)=>{n.d(t,{X9:()=>a,zV:()=>l,Ad:()=>s,AL:()=>d,uQ:()=>c,rN:()=>u});const i={transform:"rotate(0)"},r={padding:0,bottom:"0%",left:"50%",transform:"translate(-50%)"},o="";function a(e){var t,n;return(null===(t=e.videoPlayer)||void 0===t||null===(n=t.closedCaption.textTrackActiveCueParameters)||void 0===n?void 0:n.container.transform)||i.transform}function l(e){var t,n;return(null===(t=e.videoPlayer)||void 0===t||null===(n=t.closedCaption.textTrackActiveCueParameters)||void 0===n?void 0:n.window.padding)||r.padding}function s(e){var t,n;return(null===(t=e.videoPlayer)||void 0===t||null===(n=t.closedCaption.textTrackActiveCueParameters)||void 0===n?void 0:n.window.bottom)||r.bottom}function d(e){var t,n;return(null===(t=e.videoPlayer)||void 0===t||null===(n=t.closedCaption.textTrackActiveCueParameters)||void 0===n?void 0:n.window.left)||r.left}function c(e){var t,n;return(null===(t=e.videoPlayer)||void 0===t||null===(n=t.closedCaption.textTrackActiveCueParameters)||void 0===n?void 0:n.window.transform)||r.transform}function u(e){var t,n;return(null===(t=e.videoPlayer)||void 0===t||null===(n=t.closedCaption.textTrackActiveCueParameters)||void 0===n?void 0:n.cueHtmlTextContent)||o}},24739:(e,t,n)=>{n.d(t,{o:()=>s});var i=n(66097),r=n(92416),o=n(37855),a=n(47776),l=n(22766);function s(e){const t=(0,a.i)(e);switch((0,l.iI)(e)){case o.Ab.CHANNEL:return(0,i.ol)(e,{channelID:t});case o.Ab.ON_DEMAND_SERIES_EPISODE:case o.Ab.ON_DEMAND_MOVIE:return(0,r.z3)(e,{contentID:t});default:return null}}},22766:(e,t,n)=>{n.d(t,{iI:()=>o,mT:()=>a,qK:()=>l});var i=n(37855),r=n(43419);function o(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.content.type)||r.G.content.type}function a(e){const t=o(e);return t===i.Ab.CHANNEL||t===i.Ab.NON_STITCHED_CHANNEL}function l(e){const t=o(e);return t===i.Ab.ON_DEMAND_MOVIE||t===i.Ab.ON_DEMAND_SERIES_EPISODE}},54609:(e,t,n)=>{n.d(t,{x:()=>l,c:()=>s});var i=n(37855),r=n(58706),o=n(19047),a=n(72351);function l(e){return null===(0,a.V)(e)||(0,r.D)(e)!==i.UC.CONTENT}function s(e){return!(0,o.v5)(e)||l(e)}},26277:(e,t,n)=>{n.d(t,{N:()=>r});var i=n(74940);function r(e){return(0,i.c)(e,{utm_source:"plutotv",utm_medium:"share",utm_campaign:"1000201",utm_content:"1000735",referrer:"copy-link"})}},20816:(e,t,n)=>{n.d(t,{xC:()=>r,qT:()=>o,Xe:()=>a});var i=n(43419);function r(e){return e.videoPlayer.metadata.creativeID||i.G.metadata.creativeID}function o(e){return e.videoPlayer.metadata.creativeEndTime}function a(e){return e.videoPlayer.metadata.creativeDataList||i.G.metadata.creativeDataList}},35844:(e,t,n)=>{n.d(t,{Xg:()=>S,XR:()=>A,Ag:()=>P,WQ:()=>I,Tk:()=>O,KI:()=>R,CK:()=>k,TP:()=>C,EY:()=>M,Yj:()=>z,mJ:()=>N,LD:()=>_,GG:()=>V});var i=n(31899),r=n(58966),o=n(59418),a=n(93254),l=n(55611),s=n(61926),d=n(8247),c=n(71542),u=n(41717),y=n(35221),p=n(12070),g=n(17162),f=n(91238),v=n(34239),m=n(42383),E=n(70072),h=n(60689),w=n(70613),D=n(37855),b=n(47776),T=n(22766);function S(e){const t=(0,b.i)(e);switch((0,T.iI)(e)){case D.Ab.CHANNEL:case D.Ab.NON_STITCHED_CHANNEL:return(0,c.p)(e,{channelID:t});case D.Ab.ON_DEMAND_MOVIE:return(0,h.R)(e,{contentID:t});case D.Ab.ON_DEMAND_SERIES_EPISODE:return(0,v.X)(e,{episodeID:t});case D.Ab.VIRAL:return(0,w.J)(e,{viralClipID:t});default:return null}}function A(e){const t=(0,b.i)(e);switch((0,T.iI)(e)){case D.Ab.ON_DEMAND_SERIES_EPISODE:return(0,v.p)(e,{episodeID:t});default:return null}}function P(e){const t=(0,b.i)(e);switch((0,T.iI)(e)){case D.Ab.ON_DEMAND_SERIES_EPISODE:return(0,f.a)(e,{episodeID:t});default:return null}}function I(e){const t=(0,b.i)(e);switch((0,T.iI)(e)){case D.Ab.CHANNEL:return(0,a.Q)(e,{channelID:t});case D.Ab.VIRAL:return(0,a.V)(e,{viralClipID:t});case D.Ab.ON_DEMAND_SERIES_EPISODE:return(0,E.M)(e,{contentID:t});case D.Ab.ON_DEMAND_MOVIE:return(0,m.J)(e,{contentID:t});default:return null}}function O(e){const t=(0,b.i)(e);switch((0,T.iI)(e)){case D.Ab.CHANNEL:case D.Ab.NON_STITCHED_CHANNEL:return(0,l.k)(e,{channelID:t});default:return null}}function R(e){const t=(0,b.i)(e);switch((0,T.iI)(e)){case D.Ab.NON_STITCHED_CHANNEL:case D.Ab.CHANNEL:return(0,s.$)(e,{channelID:t});default:return null}}function k(e){const t=(0,b.i)(e);switch((0,T.iI)(e)){case D.Ab.CHANNEL:case D.Ab.NON_STITCHED_CHANNEL:return(0,r.V)(e,{channelID:t});case D.Ab.VIRAL:return(0,r.s)(e,{viralClipID:t});default:return null}}function C(e){const t=(0,b.i)(e);switch((0,T.iI)(e)){case D.Ab.CHANNEL:case D.Ab.NON_STITCHED_CHANNEL:return(0,o.b)(e,{channelID:t});default:return null}}function M(e){const t=S(e),n=(0,d.X)(e,{slug:t}),r=(0,i.U)(e,{channelID:n});if(!1===(0,u.b)(e,{timelineID:r}))return null;const o=(0,y.V)(e,{timelineID:r}),a=(0,p.Q)(e,{timelineID:r}),l=(0,g.K)(e,{timelineID:r});return a?l:o}function z(e){const t=(0,T.iI)(e);return[D.Ab.ON_DEMAND_MOVIE,D.Ab.ON_DEMAND_SERIES_EPISODE].includes(t)}function N(e){const t=(0,T.iI)(e);return[D.Ab.CHANNEL,D.Ab.NON_STITCHED_CHANNEL].includes(t)}function _(e){return(0,T.iI)(e)===D.Ab.VIRAL}function V(e){return(0,T.iI)(e)===D.Ab.UPSELL_PROMOTION_VIDEO}},74940:(e,t,n)=>{n.d(t,{c:()=>f});var i=n(71542),r=n(91238),o=n(34239),a=n(91466),l=n(60689),s=n(70613),d=n(35357),c=n(65605),u=n(88025),y=n(37855),p=n(47776),g=n(22766);function f(e,t={}){const n=(0,p.i)(e);let f,v={};switch((0,g.iI)(e)){case y.Ab.CHANNEL:case y.Ab.NON_STITCHED_CHANNEL:const t=(0,i.p)(e,{channelID:n});f=d.SX.liveTVChannel,v={slug:t};break;case y.Ab.ON_DEMAND_MOVIE:const c=(0,l.R)(e,{contentID:n});f=d.SX.onDemandMovie,v={slug:c};break;case y.Ab.ON_DEMAND_SERIES_EPISODE:const u=(0,o.X)(e,{episodeID:n}),p=(0,a.U)(e,{contentID:n}),g=(0,r.a)(e,{episodeID:n});f=d.SX.onDemandSeriesEpisode,v={slug:p,episodeSlug:u,seasonNumber:g};break;case y.Ab.VIRAL:const m=(0,s.J)(e,{viralClipID:n});f=d.SX.viral,v={slug:m};break;default:f=d.SX.liveTV,v={}}const m=(0,u.q)(e,{routeID:f,params:v,query:t});return`${(0,c.Do)(e)}${m}`}},39008:(e,t,n)=>{function i(e){var t;return null===(t=e.videoPlayer)||void 0===t?void 0:t.player.currentTime}n.d(t,{h:()=>i})},56800:(e,t,n)=>{n.d(t,{z:()=>d});var i=n(8570),r=n(44574),o=n(37855),a=n(47776),l=n(22766),s=n(72351);function d(e){const t=(0,s.V)(e);if(t)return t;const n=(0,l.iI)(e);let d;const c=(0,a.i)(e);return d=n===o.Ab.ON_DEMAND_MOVIE?(0,i.T)(e,{contentID:c}):(0,r.u)(e,{episodeID:c}),d}},39788:(e,t,n)=>{n.d(t,{K:()=>r,z:()=>o});var i=n(37855);const r={[i.CC.typewriter]:'"Captions Typewriter", "Courier New", "Courier", monospace',[i.CC.serif]:'"Captions Serif", "Times New Roman", Times, serif',[i.CC.block]:'"Captions Block", "Helvetica Monospaced", sans-serif',[i.CC.sans_serif]:'"Captions Sans Serif", Arial, Swiss, sans-serif',[i.CC.casual]:'"Captions Casual", Dom, Impress, sans-serif',[i.CC.cursive]:'"Captions Cursive", Coronet, Marigold, cursive',[i.CC.small_capitals]:'"Captions Small Captials", "Engravers Gothic", serif, sans-serif'},o={[i.pD.no_edge]:"none",[i.pD.raised]:"3px 0 0",[i.pD.depressed]:"0 0 3px",[i.pD.uniform]:"0 0 2px",[i.pD.drop_shadow]:"3px 3px 0"}},25031:(e,t,n)=>{n.d(t,{o:()=>r});var i=n(47776);function r(e,{channelID:t}){return(0,i.i)(e)===t}},49385:(e,t,n)=>{n.d(t,{F:()=>a});var i=n(52249),r=n(3490),o=n(59394);function a(e){const t=(0,o.Xc)(e),n=(0,i.Fh)(e),a=(0,o.ai)(e),l=(0,r.w)(e);return t||n||a||l}},17:(e,t,n)=>{n.d(t,{L:()=>a});var i=n(52249),r=n(3490),o=n(59394);function a(e){const t=(0,o.Xc)(e),n=(0,o.D8)(e),a=(0,i.Fh)(e),l=(0,o.ai)(e),s=(0,r.w)(e);return t||n||a||l||s}},6674:(e,t,n)=>{n.d(t,{Z:()=>o,_:()=>a});var i=n(37855),r=n(66152);function o(e){const t=(0,r.cc)(e);return t===i.Re.VISIBLE||t===i.Re.PERSISTENT}function a(e){return(0,r.cc)(e)===i.Re.PERSISTENT}},98378:(e,t,n)=>{n.d(t,{d:()=>r});var i=n(16985);function r(e){return(0,i.A)(e)}},46501:(e,t,n)=>{n.d(t,{i:()=>o});var i=n(37855),r=n(66152);function o(e){return(0,r.ry)(e)===i.wh.MUTED}},16985:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(37855),r=n(99512);function o(e){return(0,r.xq)(e)===i.ug.BLOCKED_PLAY}},4145:(e,t,n)=>{n.d(t,{W:()=>o});var i=n(37855),r=n(66152);function o(e){if((0,r.H6)(e))return i.yu.FULLBROWSER;switch((0,r.yv)(e)){case i.SW.DOCKED:return i.yu.DOCKED;case i.SW.FULLSCREEN:return i.yu.FULLSCREEN;case i.SW.EXPANDED:default:return i.yu.EXPANDED}}},58706:(e,t,n)=>{n.d(t,{D:()=>r,I:()=>o});var i=n(37855);function r(e){var t;return null===(t=e.videoPlayer)||void 0===t?void 0:t.ui.playingState}function o(e){return r(e)===i.UC.AD}},86012:(e,t,n)=>{function i(e){return e.videoPlayer.routePreviouslyExpanded}n.d(t,{S:()=>i})},19047:(e,t,n)=>{function i(e){var t;return null===(t=e.videoPlayer)||void 0===t?void 0:t.session.breaks}function r(e,t){const n=function(e,{durationInMs:t,startingOffset:n}){var r;const o=i(e);return null===o?null:null!==(r=o.find((e=>e.startingOffset===n&&e.durationInMs===t)))&&void 0!==r?r:null}(e,t);return null==n?void 0:n.watched}function o(e,t){const n=i(e);return null===n?null:n.find((e=>e.startingOffset<=t.offset&&!1===(null==e?void 0:e.watched)))}n.d(t,{v5:()=>i,V9:()=>r,ER:()=>o})},69531:(e,t,n)=>{function i(e){return e.videoPlayer.session.currentAdData||null}n.d(t,{E:()=>i})},36292:(e,t,n)=>{n.d(t,{g:()=>r});var i=n(69246);function r(e){const t=(0,i.a3)(e);let n="#PlutoTV";return t&&(n={us:"#PlutoTV",latam:"#PlutoTVLATAM",gsa:"#PlutoTVDACH",uk:"#PlutoTVUK",no:"#PlutoTVNO",nb:"#PlutoTVNO",dk:"#PlutoTVDK",se:"#PlutoTVSE"}[t.toLowerCase()]||"#PlutoTV"),n}},95515:(e,t,n)=>{n.d(t,{bT:()=>o,cl:()=>a,yP:()=>l,hw:()=>s});var i=n(17673),r=n(69246);function o(e){const t=(0,r.a3)(e);let n="PlutoTV";return t&&(n={us:"PlutoTV",latam:"PlutoTVLATAM",gsa:"PlutoTVDACH",uk:"PlutoTVUK",it:"PlutoTVIT",no:"PlutoTVNO",nb:"PlutoTVNO",dk:"PlutoTVDK",se:"PlutoTVSE",ca:"plutoTVCA"}[t.toLowerCase()]||"PlutoTV"),n}function a(e){const t=(0,r.a3)(e);let n="PlutoTV";return t&&(n={us:"PlutoTV",latam:"PlutoTVLATAM",gsa:"PlutoTVDACH",uk:"PlutoTVUK",it:"PlutoTVIT",no:"PlutoTVNO",nb:"PlutoTVNO",dk:"PlutoTVDK",se:"PlutoTVSE",ca:"plutoTVCA"}[t.toLowerCase()]||"PlutoTV"),n}function l(e){return`@${a(e)}`}function s(){var e,t;return i.stringify({width:600,height:310,top:((null===(e=n.g.window)||void 0===e?void 0:e.outerHeight)-310)/2,left:((null===(t=n.g.window)||void 0===t?void 0:t.outerWidth)-600)/2},",")}},99512:(e,t,n)=>{n.d(t,{xq:()=>o,H9:()=>a,iR:()=>l,js:()=>s,m6:()=>d});var i=n(43419),r=n(37855);function o(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.status)||i.G.status}function a(e){return o(e)===r.ug.PAUSED}function l(e){return o(e)!==r.ug.IDLE&&o(e)!==r.ug.INITIALIZING}function s(e){const t=o(e);return[r.ug.BUFFERING,r.ug.BLOCKED_PLAY,r.ug.ERROR].includes(t)}function d(e){return o(e)===r.ug.STOPPED}},72351:(e,t,n)=>{function i(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.player.totalDuration)||null}n.d(t,{V:()=>i})},66152:(e,t,n)=>{n.d(t,{yv:()=>u,cc:()=>y,ry:()=>p,T0:()=>g,$M:()=>f,xs:()=>v,lw:()=>m,H6:()=>E,AE:()=>h,JR:()=>w,Fb:()=>D});var i=n(52249),r=n(3490),o=n(51127),a=n(95968),l=n(59394),s=n(43419),d=n(37855),c=n(35844);function u(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.ui.state)||s.G.ui.state}function y(e){var t;return(null===(t=e.videoPlayer)||void 0===t?void 0:t.ui.overlayState)||s.G.ui.overlayState}function p(e){var t;const n=null===(t=e.videoPlayer)||void 0===t?void 0:t.ui.volumeState;switch(typeof n){case"string":case"number":return n;default:return s.G.ui.volumeState}}function g(e){var t;return null===(t=e.videoPlayer)||void 0===t?void 0:t.ui.lastVolumeLevel}function f(e){return!((0,c.GG)(e)||m(e)||!((0,a.hL)(e)||(0,a.Db)(e)||(0,l.Xc)(e)||(0,l.D8)(e)||(0,i.Fh)(e)||(0,l.ai)(e)||(0,r.w)(e))&&u(e)!==d.SW.DOCKED)}function v(e){return(0,l.Xc)(e)||(0,l.D8)(e)||(0,i.Fh)(e)||(0,l.ai)(e)||(0,r.w)(e)}function m(e){return u(e)===d.SW.FULLSCREEN}function E(e){return!0===(0,o.ND)(e)}function h(e){var t;return null===(t=e.videoPlayer)||void 0===t?void 0:t.ui.isFocused}function w(e){var t;return null===(t=e.videoPlayer)||void 0===t?void 0:t.ui.showUndockedAccessibilityMessage}function D(e){var t;return null===(t=e.videoPlayer)||void 0===t?void 0:t.ui.autoFocus}},13408:(e,t,n)=>{n.d(t,{$:()=>r});var i=n(66152);function r(e){const t=(0,i.ry)(e);return Number.isFinite(t)&&"number"==typeof t?t:0}},76604:(e,t,n)=>{n.d(t,{N:()=>a});var i=n(70789),r=n(35357),o=n(6785);const a=(0,i.t)(r.SX.activateDevice,(0,o.y)(r.SX.activateDevice,{}))},8897:(e,t,n)=>{n.d(t,{u:()=>a});var i=n(70789),r=n(35357),o=n(6785);const a=(0,i.t)(r.SX.liveTV,(0,o.y)(r.SX.liveTV,{}))},24779:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(70789),r=n(35357),o=n(6785);const a=(0,i.t)(r.SX.onDemand,(0,o.y)(r.SX.onDemand,{}))},79502:(e,t,n)=>{n.d(t,{o:()=>a});var i=n(70789),r=n(35357),o=n(6785);const a=(0,i.t)(r.SX.onDemandMovie,(0,o.y)(r.SX.onDemandMovie,{}))},68527:(e,t,n)=>{n.d(t,{D:()=>a});var i=n(70789),r=n(35357),o=n(6785);const a=(0,i.t)(r.SX.accountSignIn,(0,o.y)(r.SX.accountSignIn,{}))},71224:(e,t,n)=>{n.d(t,{s:()=>a});var i=n(70789),r=n(35357),o=n(6785);const a=(0,i.t)(r.SX.accountKidsModeExit,(0,o.y)(r.SX.accountKidsModeExit,{}))},92187:(e,t,n)=>{n.d(t,{t:()=>a});var i=n(70789),r=n(35357),o=n(6785);const a=(0,i.t)(r.SX.viral,(0,o.y)(r.SX.viral,{}))},88230:(e,t,n)=>{n.d(t,{Q:()=>Ke});var i=n(54226),r=n(6801),o=n(35357),a=n(26506),l=n(83859),s=n(14701),d=n(84361),c=n(76862),u=n(29626),y=n(59394),p=n(65358),g=n(97120),f=n(79094),v=n(8897),m=n(68527),E=n(70789),h=n(6785);const w=(0,E.t)(o.SX.accountConfirmAccount,(0,h.y)(o.SX.accountConfirmAccount,{}));var D=n(64687),b=n(24970),T=n(91757);const S=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/activate.ts");function*A(){if(S.log("activate navagiation saga, waiting application load"),yield(0,b.RE)(d.R),(yield(0,b.Ys)(u.$I))||(S.log("redirecting to Live TV page"),yield(0,b.gz)((0,v.u)({},{extra:{shouldUndockPlayer:!0}}))),(yield(0,b.Ys)(c.x))||(yield(0,b.S3)([(0,b.qn)((0,T.getType)(g.M.success)),(0,b.qn)((0,T.getType)(g.M.failure))])),S.log("starting application activate external flow"),yield(0,b.gz)((0,s.z)({module:i.l6.activate})),yield(0,b.Ys)(f.j))S.log("redirecting to Confirm Account page"),yield(0,b.gz)(w({},{replace:!0}));else{S.log("redirecting to Sign In page");const e=yield(0,b.Ys)(y.hK),t=yield(0,b.Ys)(p.CX),n={redirectRoute:{ID:o.SX.activateDevice,params:e,query:t}};yield(0,b.gz)((0,m.D)({},{replace:!0,extra:n}))}}var P=n(48764),I=n(79658),O=n(58636),R=n(87014),k=n(64088),C=n(9942),M=n(272),z=n(65563),N=n(46916);const _=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/activatePartner.ts");function*V(){try{var e;_.log("activate partner navagiation saga, waiting application load"),yield(0,b.RE)(d.R);const t=null===(e=window)||void 0===e?void 0:e.partnerActivationData,n=P.lW.from(t,"base64").toString("binary"),r=JSON.parse(n);r||(_.log("redirecting to Live TV page, no partner data found"),yield(0,b.gz)((0,v.u)({},{replace:!0,extra:{shouldUndockPlayer:!0}}))),yield(0,b.gz)((0,C.W)({data:r})),(yield(0,b.Ys)(N.W))||(_.log("redirecting to Live TV page, not external navigation"),yield(0,b.gz)((0,v.u)({},{replace:!0,extra:{shouldUndockPlayer:!0}}))),_.log("starting application partner external flow");const o=yield(0,b.Ys)(z.U);yield(0,b.gz)((0,s.z)({module:i.l6.partner,partner:o})),yield(0,b.RE)(I.Y),delete window.partnerActivationData,(yield(0,b.Ys)(f.j))&&(_.log("redirecting to Confirm Account page"),yield(0,b.gz)(w({},{replace:!0})));const a=M.a.welcome;_.log(`opening Partner ${a} popup`),yield(0,b.gz)((0,k.c)({activePopup:a})),yield(0,b.gz)((0,O.IE)({id:R.j.partnerScreen,type:a})),yield(0,b.gz)((0,v.u)({},{replace:!0,extra:{shouldUndockPlayer:!0}}))}catch(e){_.log("redirecting to Live TV page, error thrown"),yield(0,b.gz)((0,v.u)({},{replace:!0,extra:{shouldUndockPlayer:!0}}))}}var L=n(52249);const Y=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/codeActivation.ts");function*q(){Y.log("code activation navagiation saga, waiting application load"),yield(0,b.RE)(d.R);const e=yield(0,b.Ys)(u.$I),t=yield(0,b.Ys)(L.Fh);e&&t||(Y.log("redirecting to Live TV page"),yield(0,b.gz)((0,v.u)({},{replace:!0,extra:{shouldUndockPlayer:!0}})))}var x=n(44764),H=n(94950),j=n(93924),F=n(43846),B=n(68726);const U=(0,E.t)(o.SX.accountManageAccount,(0,h.y)(o.SX.accountManageAccount,{}));var X=n(75203);const $=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/kidsModePin.ts");function*G(){$.log("kids mode pin saga, waiting application load"),yield(0,b.RE)(d.R),(yield(0,b.Ys)(c.x))||(yield(0,b.S3)([(0,b.qn)((0,T.getType)(g.M.success)),(0,b.qn)((0,T.getType)(H.s.success)),(0,b.qn)((0,T.getType)(j.C.success))])),(yield(0,b.Ys)(B.p))||($.log("kids mode pin saga, pinSet not fetched, wait for userAccountKidsModePinSetFetchedAction"),yield(0,b.S3)([(0,b.qn)((0,T.getType)(x.j)),(0,X.A)(2e3)])),(yield(0,b.Ys)(F.v))||($.log("redirecting to manage account"),yield(0,b.gz)(U({},{replace:!0})))}var K=n(51127),Q=n(29849),W=n(37855),Z=n(22766),J=n(35844),ee=n(42201);function*te(){yield(0,b.RE)(d.R);const e=yield(0,b.Ys)(Z.iI),t=yield(0,b.Ys)(K.Qo),n=yield(0,b.Ys)(K.Ld);if(!1===[W.Ab.NON_STITCHED_CHANNEL,W.Ab.CHANNEL].includes(e))return;t&&(yield(0,b.gz)((0,Q.B)())),n&&(yield(0,b.gz)((0,k.c)({activePopup:n})));const i=yield(0,b.Ys)(J.Xg);i&&(yield(0,b.gz)((0,ee.M)({slug:i},{replace:!0})))}var ne=n(28093),ie=n(8247),re=n(28490),oe=n(92299),ae=n(47776);const le=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/liveTVChannel.ts");function*se({params:e,extra:t}){const n=yield(0,b.Ys)(ne.X);if(n)return void le.log("skip",{params:e,isLoading:n});le.log("init",{params:e});const{slug:i}=e,r=yield(0,b.Ys)(ae.i),o=yield(0,b.Ys)(ie.X,{slug:i});if(le.log("check channel to play",{currentPlayingID:r,channelID:o}),o&&o!==r){const n=yield(0,b.Ys)(re.Z,{channelID:o});le.log("playing channel",{params:e}),yield(0,b.gz)(oe.F.request({content:{ID:o,type:n?W.Ab.CHANNEL:W.Ab.NON_STITCHED_CHANNEL},autoPlay:null==t?void 0:t.autoPlay}))}}var de=n(84417),ce=n(16728),ue=n(66152),ye=n(79502),pe=n(84445);function*ge(){yield(0,b.RE)(d.R);const e=yield(0,b.Ys)(Z.iI),t=yield(0,b.Ys)(K.U_),n=yield(0,b.Ys)(K.De);switch(e){case W.Ab.ON_DEMAND_MOVIE:const e=yield(0,b.Ys)(J.Xg);if(null===e)return;yield(0,b.gz)((0,ye.o)({slug:e},{replace:!0,extra:{scrollToWatchList:n}}));break;case W.Ab.ON_DEMAND_SERIES_EPISODE:const t=yield(0,b.Ys)(J.Xg),i=yield(0,b.Ys)(J.XR),r=yield(0,b.Ys)(J.Ag);if(null===t||null===i)return;yield(0,b.gz)((0,pe.H)({slug:i,seasonNumber:r,episodeSlug:t},{replace:!0,extra:{scrollToWatchList:n}}))}(yield(0,b.Ys)(u.rY))&&t?yield(0,b.gz)((0,de.W)()):(yield(0,b.Ys)(ue.lw))&&(0,b.gz)(ce.T.request())}var fe=n(88980),ve=n(51612);function*me(){yield(0,b.RE)(d.R);const e=yield(0,b.Ys)(y.Rg);if(!e)return;const t=yield(0,b.Ys)((t=>(0,fe.N)(t,{categoryID:e})));let n;t?1===t&&(n=2):n=1,n&&(yield(0,b.gz)(ve.mf.request({categoryID:e,offset:30,page:n})))}var Ee=n(39727);const he=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/onDemandMovies.ts");function*we({params:e,extra:t}){const n=yield(0,b.Ys)(ne.X),i=yield(0,b.Ys)(u.rY),r=yield(0,b.Ys)(K.De);if(n)return void he.log("skip",{params:e,isLoading:n});he.log("init",{params:e});const{slug:o}=e,a=yield(0,b.Ys)(ae.i),l=yield(0,b.Ys)(Ee.r,{slug:o});he.log("check movieID to play",{currentPlayingID:a,movieID:l}),l&&(l!==a||null!=t&&t.watchFromStart)&&(he.log("playing movieID",{movieID:l}),yield(0,b.gz)(oe.F.request({content:{ID:l,type:W.Ab.ON_DEMAND_MOVIE},autoPlay:null==t?void 0:t.autoPlay}))),i&&r&&(he.log("docking video player to see watch list"),yield(0,b.gz)((0,de.W)()))}const De=(0,E.t)(o.SX.onDemandSeriesSeasonsDetails,(0,h.y)(o.SX.onDemand,{}));var be=n(69607),Te=n(3487),Se=n(5948);const Ae=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/seriesDetails.ts");function*Pe({params:e,navigateToAction:t}){Ae.log("init",{params:e}),yield(0,b.RE)(d.R);const{slug:n}=e,i=yield(0,b.Ys)(Te.T,{slug:n});let r=yield(0,b.Ys)((e=>(0,Se.uq)(e,{contentID:i})));if(i&&0===r.length&&(yield(0,b.gz)(be.Y.request({seriesID:i})),yield(0,b.qn)(be.Y.success),r=yield(0,b.Ys)((e=>(0,Se.uq)(e,{contentID:i})))),r.length){const{number:e}=r.slice(0,1)[0];"number"==typeof e&&(yield(0,b.gz)(t({slug:n,seasonNumber:e.toString()},{replace:!0})))}}function Ie({params:e}){return Pe({params:e,navigateToAction:De})}var Oe=n(88004);const Re=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/onDemandSeriesEpisode.ts");function*ke({params:e,extra:t}){const n=yield(0,b.Ys)(ne.X),i=yield(0,b.Ys)(u.rY),r=yield(0,b.Ys)(K.De);if(n)return void Re.log("skip",{params:e,isLoading:n});Re.log("init",{params:e});const{episodeSlug:o}=e,a=yield(0,b.Ys)(ae.i),l=yield(0,b.Ys)(Oe.E,{episodeSlug:o});Re.log("comparing",{episodeSeriesEpisodeID:l,currentPlayingID:a}),l&&(l!==a||null!=t&&t.watchFromStart)&&(yield(0,b.gz)(oe.F.request({content:{ID:l,type:W.Ab.ON_DEMAND_SERIES_EPISODE},autoPlay:null==t?void 0:t.autoPlay}))),i&&r&&(Re.log("docking video player to see watch list"),yield(0,b.gz)((0,de.W)()))}var Ce=n(55206),Me=n(4562);const ze=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/search.ts");function*Ne(){ze.log("search route saga, waiting application load"),yield(0,b.RE)(d.R),(yield(0,b.Ys)(c.x))||(yield(0,b.S3)([(0,b.qn)(ve.K$.success),(0,b.qn)(ve.K9.success)]));const e=yield(0,b.Ys)(u.eA),t=yield(0,b.Ys)(u.o$),n=yield(0,b.Ys)(c.n);if(ze.log("search navigated"),!e||n&&!t)return ze.log("search not enabled"),yield(0,b.gz)((0,v.u)(void 0,{replace:!0,extra:{shouldUndockPlayer:!0}}));(yield(0,b.Ys)(Me.NX))&&!n&&(ze.log("is new feature and is not in Kids Mode"),yield(0,b.gz)((0,Ce.J)({feature:i.Bc.search})))}const _e=(0,E.t)(o.SX.searchOnDemandSeriesSeasonsDetails,(0,h.y)(o.SX.search,{}));function Ve({params:e}){return Pe({params:e,navigateToAction:_e})}const Le=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/userAccountConfirmAccount.ts");function*Ye(){Le.log("confirm account navagiation saga, waiting application load"),yield(0,b.RE)(d.R),(yield(0,b.Ys)(L.Fh))||(Le.log("redirecting to Live TV page"),yield(0,b.gz)((0,v.u)({},{replace:!0,extra:{shouldUndockPlayer:!0}})))}const qe=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/userAccountKidsModeExit.ts");function*xe(){qe.log("kids mode exit route saga, waiting application load"),yield(0,b.RE)(d.R),(yield(0,b.Ys)(B.p))||(qe.log("useraccount checking to see if kidsModePinSet value updated"),yield(0,b.gz)(g.M.request()),yield(0,b.S3)([(0,b.qn)((0,T.getType)(g.M.success)),(0,b.qn)((0,T.getType)(g.M.failure))])),(yield(0,b.Ys)(F.v))||(yield(0,b.gz)((0,v.u)({},{replace:!0})))}const He=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/userAccountKidsModeSetPin.ts");function*je(){He.log("kids mode set pin saga, waiting application load"),yield(0,b.RE)(d.R),(yield(0,b.Ys)(c.x))||(yield(0,b.qn)((0,T.getType)(g.M.success))),(yield(0,b.Ys)(F.v))&&(He.log("kids mode pin already set, navigating to liveTV"),yield(0,b.gz)((0,v.u)({},{replace:!0})))}var Fe=n(51141);const Be=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/userAccountSignIn.ts");function*Ue(){Be.log("user account redirect route saga, waiting application load"),yield(0,b.RE)(d.R);const e=yield(0,b.Ys)(K.qY);e&&(Be.log("adding redirect route to userAccount"),yield(0,b.gz)((0,Fe.X)({redirectRoute:e})))}var Xe=n(48048);const $e=(0,D.gV)("/app/src/modules/webappRouter/sagas/routes/viralClip.ts");function*Ge({params:e,extra:t}){const n=yield(0,b.Ys)(ne.X);if(n)return void $e.log("skip",{params:e,isLoading:n});$e.log("init",{params:e});const{slug:i}=e,r=yield(0,b.Ys)(ae.i),o=yield(0,b.Ys)(Xe.y,{slug:i});$e.log("check viral clip to play",{currentPlayingID:r,viralClipID:o}),o&&o!==r&&($e.log("starting a new viral clip"),yield(0,b.gz)(oe.F.request({content:{ID:o,type:W.Ab.VIRAL},autoPlay:null==t?void 0:t.autoPlay})))}function Ke(){return{id:"router",reducerMap:{router:a.m},initialActions:[(0,r.f)([{routeID:o.SX.root,path:"/"},{routeID:o.SX.langOnly,path:"/:lang(\\w{2})"},{routeID:o.SX.viral,path:"/:lang?/clip/:slug?",navigateSaga:Ge,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.liveTV,path:"/:lang?/:module(live-tv)",navigateSaga:te},{routeID:o.SX.liveTVChannel,path:"/:lang?/:module(live-tv)/:slug",navigateSaga:se},{routeID:o.SX.liveTVChannelDetails,path:"/:lang?/:module(live-tv)/:slug/details"},{routeID:o.SX.liveTVTimelineDetails,path:"/:lang?/:module(live-tv)/:slug/details/:timelineSlug"},{routeID:o.SX.onDemand,path:"/:lang?/:module(on-demand)",navigateSaga:ge},{routeID:o.SX.onDemandCategoryViewAll,path:"/:lang?/:module(on-demand)/category/:slug/view-all",navigateSaga:me},{routeID:o.SX.onDemandChildCategoryViewAll,path:"/:lang?/:module(on-demand)/category/:parentSlug/:slug/view-all",navigateSaga:me},{routeID:o.SX.onDemandMovie,path:"/:lang?/:module(on-demand)/movies/:slug",navigateSaga:we},{routeID:o.SX.onDemandSeriesEpisode,path:"/:lang?/:module(on-demand)/series/:slug{/season/:seasonNumber}?/episode/:episodeSlug",navigateSaga:ke},{routeID:o.SX.onDemandMoviesDetails,path:"/:lang?/:module(on-demand)/movies/:slug/details"},{routeID:o.SX.onDemandSeriesRoot,path:"/:lang?/:module(on-demand)/series/:slug",navigateSaga:Ie},{routeID:o.SX.onDemandSeriesDetails,path:"/:lang?/:module(on-demand)/series/:slug/details",navigateSaga:Ie},{routeID:o.SX.onDemandSeriesSeasonsDetails,path:"/:lang?/:module(on-demand)/series/:slug/details/season/:seasonNumber"},{routeID:o.SX.accountSignIn,path:"/:lang?/:module(account)/sign-in",navigateSaga:Ue,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountSignUp,path:"/:lang?/:module(account)/sign-up",navigateSaga:Ue,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountConfirmAccount,path:"/:lang?/:module(account)/confirm",navigateSaga:Ye,authenticationRequired:!0},{routeID:o.SX.accountForgotPassword,path:"/:lang?/:module(account)/forgot-password",restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountKidsModeExit,path:"/:lang?/:module(account)/kids-mode/exit",navigateSaga:xe,authenticationRequired:!0,restrictedApplicationModes:[i.ai.default]},{routeID:o.SX.accountManageAccount,path:"/:lang?/:module(account)/manage-account",authenticationRequired:!0,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountChangePassword,path:"/:lang?/:module(account)/change-password",authenticationRequired:!0,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountUpdateEmail,path:"/:lang?/:module(account)/update-email",authenticationRequired:!0,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountResetPassword,path:"/:lang?/:module(account)/reset-password/:passwordResetToken",restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountKidsModeEnter,path:"/:lang?/:module(account)/kids-mode/enter",authenticationRequired:!0,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountKidsModeSetPin,path:"/:lang?/:module(account)/kids-mode/set-pin",navigateSaga:je,authenticationRequired:!0,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountKidsModeManagePin,path:"/:lang?/:module(account)/kids-mode/manage-pin",navigateSaga:G,authenticationRequired:!0,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountKidsModeChangePin,path:"/:lang?/:module(account)/kids-mode/change-pin",navigateSaga:G,authenticationRequired:!0,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountKidsModeDeletePin,path:"/:lang?/:module(account)/kids-mode/delete-pin",navigateSaga:G,authenticationRequired:!0,restrictedApplicationModes:[i.ai.kids]},{routeID:o.SX.accountKidsModeForgotPin,path:"/:lang?/:module(account)/kids-mode/forgot-pin",navigateSaga:G,authenticationRequired:!0,restrictedApplicationModes:[i.ai.default]},{routeID:o.SX.activate,path:"/:lang?/:module(activate)",navigateSaga:A},{routeID:o.SX.activateDevice,path:"/:lang?/:module(activate)/device",navigateSaga:q,authenticationRequired:!0},{routeID:o.SX.activatePartner,path:"/:lang?/:module(activate)/:slug",navigateSaga:V},{routeID:o.SX.partnerInvalidLink,path:"/:lang?/:module(partner)/invalid-link"},{routeID:o.SX.search,path:"/:lang?/:module(search)",navigateSaga:Ne},{routeID:o.SX.searchLiveTVChannelDetails,path:"/:lang?/:module(search)/details/channels/:slug/"},{routeID:o.SX.searchLiveTVTimelineDetails,path:"/:lang?/:module(search)/details/channels/:slug/timelines/:timelineSlug"},{routeID:o.SX.searchOnDemandMoviesDetails,path:"/:lang?/:module(search)/details/movies/:slug"},{routeID:o.SX.searchOnDemandSeriesDetails,path:"/:lang?/:module(search)/details/series/:slug",navigateSaga:Ve},{routeID:o.SX.searchOnDemandSeriesSeasonsDetails,path:"/:lang?/:module(search)/details/series/:slug/season/:seasonNumber"}])],sagas:[l.x]}}},46583:(e,t,n)=>{n.d(t,{lk:()=>m.l,Dq:()=>m.D,lt:()=>E});var i=n(44771),r=n(1269),o=n(58535),a=n(8584),l=n(93938),s=n(67160),d=n(76585),c=n(32607),u=n(99281),y=n(88037),p=n(51880),g=n(47204),f=n(98972),v=n(73200),m=n(91733);const E=(0,i.z)(r.y,a.i,y.u,f.V,p.F,v.F,l.K,g.q,u.m,o.B,s.Z,d.w)(c.G)},91733:(e,t,n)=>{let i;n.d(t,{l:()=>r.l,D:()=>i}),function(e){e.kidsOnly="kids-only"}(i||(i={}));var r=n(45776)},58394:(e,t,n)=>{n.d(t,{$:()=>a});var i=n(96156),r=n(68962),o=n(64687);class a{constructor(e){(0,i.Z)(this,"broadcastChannel",void 0),(0,i.Z)(this,"logger",void 0),(0,i.Z)(this,"channelName",void 0),this.channelName=e,this.broadcastChannel=new r.g0(e),this.logger=(0,o.gV)("/app/src/utils/broadcastChannelApi.ts"),this.logger.log(`Created broadcast channel: ${this.channelName}`)}static getInstance(e){return a.instance=a.instance||new a(e),a.instance}postMessage(e){return this.logger.log(`Post message to broadcast channel: ${this.channelName}`),this.broadcastChannel.postMessage(e)}onmessage(e){this.broadcastChannel.onmessage=t=>{this.logger.log(`Received message: ${JSON.stringify(t)} in broadcast channel: ${this.channelName}`),e(t)}}close(){this.logger.log(`Closing broadcast channel: ${this.channelName}`);const e=this.broadcastChannel.close();return a.instance=null,e}}(0,i.Z)(a,"instance",void 0)},54491:(e,t,n)=>{n.d(t,{E:()=>d,d:()=>c});var i=n(64061),r=n.n(i),o=n(7663),a=n.n(o),l=n(22574),s=n(67294);let d,c=e=>{};(0,l.r)()&&(r().start({apiKey:"2f5039c4f0ba408bf27185eccc1731b0",appType:"web",appVersion:"6.7.1-38d521889b5c2cd009d29efb8c0355e10028c31d",releaseStage:"production",enabledReleaseStages:["production","preprod","staging"],collectUserIp:!1,plugins:[new(a())],metadata:{trackingEnvironment:"prod"}}),d=r().getPlugin("react").createErrorBoundary(s),c=e=>{r().notify(e)})},2877:(e,t,n)=>{n.d(t,{jP:()=>r,yj:()=>o,t2:()=>a});var i=n(88424);function r(e){const t=JSON.stringify(e),n=function(e){const t=[];for(let n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")}(i.ZP.gzip(t));return btoa(n)}function o(e){const t=function(e){return atob(e).split("").map((function(e){return e.charCodeAt(0)}))}(e),n=i.ZP.ungzip(t,{to:"string"});return JSON.parse(n)}function a(e){let t="";for(let n=0;n<e.length;n++)t+=("00"+e.charCodeAt(n).toString(16)).slice(-2);return t}},96138:(e,t,n)=>{n.d(t,{v:()=>s});var i=n(96156),r=n(69585),o=n(33759);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class s{constructor(e){(0,i.Z)(this,"instance",void 0),this.instance=new r.Z(e)}setItem(e,t,n={}){this.instance.set(e,t,l(l({sameSite:"strict",expires:(0,o.E4)(new Date,365)||new Date,path:"/"},n),{},{secure:!0,domain:"pluto.tv"}))}getItem(e){return this.instance.get(e)}removeItem(e){this.instance.remove(e,{path:"/",domain:"pluto.tv"})}}},93634:(e,t,n)=>{n.d(t,{Z:()=>i});const i=async(e,t)=>{const n=(e=>{const t=new TextEncoder,n="string"==typeof e?e:JSON.stringify(e);return t.encode(n)})(e);return(e=>[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join(""))(await crypto.subtle.digest(t,n))}},72680:(e,t,n)=>{n.d(t,{Z:()=>i});const i={SHA_256:"SHA-256",SHA_384:"SHA-384",SHA_512:"SHA-512"}},34144:(e,t,n)=>{n.d(t,{H:()=>o});var i=n(28818),r=n(58054);function o(e){"rum"===e&&(r.v.init({applicationId:"f00c0c4b-8b25-4d51-914f-055bdda3ccc4",clientToken:"pub9812f97b81a4de0e4d0f985ef9204377",site:"datadoghq.com",service:"website",version:"6.7.1-38d521889b5c2cd009d29efb8c0355e10028c31d",env:"production",sampleRate:100,premiumSampleRate:100,trackInteractions:!0,defaultPrivacyLevel:"mask-user-input"}),r.v.startSessionReplayRecording()),"log"===e&&i.fy.init({clientToken:"pub9812f97b81a4de0e4d0f985ef9204377",site:"datadoghq.com",service:"website",env:"production",version:"6.7.1-38d521889b5c2cd009d29efb8c0355e10028c31d",forwardErrorsToLogs:!1,sampleRate:100})}},33759:(e,t,n)=>{n.d(t,{n$:()=>r,v8:()=>o,mH:()=>a,TR:()=>l,E4:()=>s});var i=n(88899);function r(e,t){const n=(0,i.Q)(e);return n?(n.setMilliseconds(n.getMilliseconds()+t),n):null}function o(e,t){const n=(0,i.Q)(e);return n?(n.setSeconds(n.getSeconds()+t),n):null}function a(e,t){const n=(0,i.Q)(e);return n?(n.setMinutes(n.getMinutes()+t),n):null}function l(e,t){const n=(0,i.Q)(e);return n?(n.setHours(n.getHours()+t),n):null}function s(e,t){const n=(0,i.Q)(e);return n?(n.setDate(n.getDate()+t),n):null}},78706:(e,t,n)=>{n.d(t,{a5:()=>r,NN:()=>o,tA:()=>a});var i=n(23869);function r(e,t){return(0,i.Fm)(e)-(0,i.Fm)(t)}function o(e,t){return r(e,t)/6e4}function a(e,t){return o(e,t)/60}},3842:(e,t,n)=>{n.d(t,{G:()=>a});var i=n(33759),r=n(23869),o=n(88899);function a(e,t){const n=(0,r.q$)(e),a=Math.floor(n/t)*t;return(0,i.mH)(function(e){const t=function(e){const t=(0,o.Q)(e);return t?(t.setMilliseconds(0),t):null}(e);return t?(t.setSeconds(0),t.setMinutes(0),t):null}(e),a)}},59828:(e,t,n)=>{n.d(t,{NO:()=>r,LU:()=>o,C8:()=>a,a1:()=>l});var i=n(88899);function r(e){const t=(0,i.Q)(e);return t?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null}function o(e){const t=Math.floor(e/1e3),n=t%60,i=Math.floor(t/60)%60;return{hours:Math.floor(t/60/60),minutes:i,seconds:n}}function a(e){const t=(0,i.Q)(e);return t?t.toISOString():null}function l(e){function t(e){const t=e.toString();return t.length>1?t:0+t}const n=[];return 0!==e.hours&&n.push(t(e.hours)),n.push(t(e.minutes)),n.push(t(e.seconds)),n.join(":")}},23869:(e,t,n)=>{n.d(t,{Fm:()=>r,q$:()=>o,CX:()=>a});var i=n(88899);function r(e){const t=(0,i.Q)(e);return t?t.getTime():0}function o(e){const t=(0,i.Q)(e);return t?t.getMinutes():0}function a(e){const t=(0,i.Q)(e);return t?Math.round(t.getTime()/1e3):0}},37401:(e,t,n)=>{n.d(t,{X:()=>r});var i=n(7710);function r(e){return e?(0,i.serializeError)(e):null}},40535:(e,t,n)=>{n.d(t,{z:()=>r});const i=/^https:\/\/(?:[a-z\d\-_]{1,62}\.){0,125}(?:[a-z\d](?:\-(?=\-*[a-z\d])|[a-z]|\d){0,62}\.)[a-z\d]{1,63}\/.*/,r=e=>"string"==typeof e&&i.test(e)},23942:(e,t,n)=>{function i(e){return e.join(" and ")}n.d(t,{d:()=>i})},81412:(e,t,n)=>{n.d(t,{Z:()=>i});const i={ESCAPE:"Escape",BACKSPACE:"Backspace",END:"End",HOME:"Home",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",DELETE:"Delete",ENTER:"Enter",TAB:"Tab",SPACE:"Space",UP_ARROW:"ArrowUp",DOWN_ARROW:"ArrowDown",LEFT_ARROW:"ArrowLeft",RIGHT_ARROW:"ArrowRight"}},42872:(e,t,n)=>{n.d(t,{i:()=>i});const i=(e,t)=>e.slice(0,t)},10706:(e,t,n)=>{n.d(t,{k:()=>r});var i=n(24970);function r(e=[]){return(0,i.al)(e)}},86885:(e,t,n)=>{n.d(t,{ML:()=>l,lz:()=>s,qn:()=>d,e6:()=>c,v0:()=>u,mM:()=>y});var i=n(26942),r=n(17172);const o=(0,n(64687).gV)("/app/src/utils/sagas/createEventChannel.ts");function a(e,t,n,i){return(0,r.eventChannel)((r=>{function a(...e){r(i(...e))}return o.log("registering method",{event:e,listener:a}),t(e,a),()=>{o.log("unregistering method",{event:e,listener:a}),n(e,a)}}))}function l(e){return(0,r.eventChannel)((t=>{function n(e){t(e)}return o.log("registering onmessage method",{listener:n}),e.onmessage(n),()=>{o.log("unregistering onmessage method",{listener:n}),e.close().catch((e=>o.error("error closing channel",e)))}}))}function s(e){return(0,r.eventChannel)((t=>{function n(){const n=e.activeCues,r=Object.values(n).reduce(((e,t)=>{const n=(0,i.$)({cue:t});return e.push(n),e}),[]);null==r||r.forEach((e=>{null!=e&&e.creativeID&&t(e)}))}return o.log("adding cuechange listener",{listener:n}),e.addEventListener("cuechange",n),()=>{o.log("removing cuechange listener",{listener:n}),e.removeEventListener("cuechange",n)}}))}function d(e,t){return a(t,e.on.bind(e),e.off.bind(e),((...e)=>({event:e[0],data:e.length>=2?e[1]:null})))}function c(e,t){return a(t,e.one.bind(e),e.off.bind(e),((...e)=>({event:e[0],data:e.length>=2?e[1]:null})))}function u(e,t){return a(t,e.once.bind(e),e.off.bind(e),((...e)=>({event:e[0],data:e.length>=2?e[1]:null})))}function y(e,t){return a(t,e.addEventListener.bind(e),e.removeEventListener.bind(e),((...e)=>({event:e[0]})))}},72150:(e,t,n)=>{n.d(t,{z0:()=>o,$v:()=>a,GF:()=>l});var i=n(96156);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t){if(a()&&e){var n;const o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},null===(n=window)||void 0===n?void 0:n.screenLog);if(o){if("numberAds"===e)if(0!==t){const e=o.numberAds;o.numberAds=e+t}else o.numberAds=0;else"rightLog"===e?o.rightLog.push(t):o[e]=t;document.dispatchEvent(new Event("screenLogEvent")),"undefined"!=typeof window&&(window.screenLog=o)}}}function a(){var e,t;return"undefined"!=typeof window&&"undefined"!=typeof document&&(null===(e=window)||void 0===e||null===(t=e.screenLog)||void 0===t?void 0:t.enabled)}function l(){const e=new URL(document.location.href).searchParams.get("screenlog"),t=sessionStorage.getItem("enableScreenLog");"true"===e||"true"===t&&"false"!==e?"undefined"!=typeof window&&"undefined"!=typeof document&&(window.screenLog={appVersion:null,buildDate:null,trackingEnvironment:null,numberAds:0,environment:null,rightLog:[],enabled:!0},console.log("screen log enabled")):sessionStorage.setItem("enableScreenLog","false")}},90365:(e,t,n)=>{function i(e){const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n={};for(const i in e)if(!["name","email"].includes(i.toLowerCase()))if(Array.isArray(e[i])){const r=e[i].map((e=>t.test(e)?"email_removed":e));n[i]=r}else n[i]=t.test(e[i])?"email_removed":e[i];return n}n.d(t,{F:()=>i})},8958:(e,t,n)=>{n.d(t,{n:()=>s,o:()=>d});var i=n(21896),r=n(92909),o=n(27923),a=n(71371),l=n(90186);function s(){let e=!1,t=!0;const n=[];o.S({dsn:"https://5863688e1da14514bb41bdc3027abdd7@o1204820.ingest.sentry.io/6333129",integrations:[new l.gE,new r.K({levels:["error"]})],environment:"production",release:"6.7.1-38d521889b5c2cd009d29efb8c0355e10028c31d",tracesSampleRate:.1,sampleRate:.1,maxBreadcrumbs:40,normalizeDepth:5,beforeSend:r=>{if(e)return r;if(t){if(r.message===i.Z.bootstrapFailure)return void(t=!1);if(r.message===i.Z.enabled)return e=!0,t=!1,void n.forEach((e=>a.Tb(e)));if(r.message===i.Z.disabled)return void(t=!1);n.push(r)}return null}})}const d=e=>{a.Tb(e)}},51612:(e,t,n)=>{n.d(t,{Cs:()=>i.C,mf:()=>r.m,Yf:()=>o.Y,jq:()=>a.j,K$:()=>l.K,K9:()=>s.K}),n(56549);var i=n(80705),r=n(54150),o=n(69607),a=n(71906),l=(n(4883),n(34237),n(66889),n(90314)),s=n(53708)},64919:(e,t,n)=>{function i(e){if(e.length){const t=e.split("");for(;"\\"===t[t.length-1];)t.splice(t.length-1);return t.length?t.join(""):"na"}return"na"}n.d(t,{Z:()=>i})},71376:(e,t,n)=>{n.d(t,{Lk:()=>o,X8:()=>a,PX:()=>l,QI:()=>s,BN:()=>d,vE:()=>c});var i=n(17673),r=n(8575);const o=r.Qc,a=r.WU;function l(e){return!!e&&null!==o(e).hostname}function s(e,t){return e.query=t,e}function d(e){return e?i.parse(decodeURIComponent(e.replace("?",""))):{}}const c=i.stringify},19522:(e,t,n)=>{n.d(t,{L:()=>{}}),n(75580),(0,n(64687).gV)("/app/src/utils/workbox.ts")}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=o,e=[],l.O=(t,n,i,r)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,i,r]=e[d],a=!0,s=0;s<n.length;s++)(!1&r||o>=r)&&Object.keys(l.O).every((e=>l.O[e](n[s])))?n.splice(s--,1):(a=!1,r<o&&(o=r));a&&(e.splice(d--,1),t=i())}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,i,r]},l.F={},l.E=e=>{Object.keys(l.F).map((t=>{l.F[t](e)}))},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var r=Object.create(null);l.r(r);var o={};t=t||[null,n({}),n([]),n(n)];for(var a=2&i&&e;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,l.d(r,o),r},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>"assets/bundle/"+{25:"i18n-da-translation-json",78:"i18n-it-translation-json",193:"i18n-en-translation-json",222:"i18n-sv-translation-json",294:"i18n-pt-translation-json",362:"live-tv",484:"i18n-no-translation-json",494:"i18n-fr-translation-json",565:"on-demand",586:"i18n-nb-translation-json",717:"i18n-de-translation-json",903:"i18n-es-translation-json"}[e]+"."+{25:"59efb8a3196b1d668684",78:"c8ac3e3bf40d3e69b05a",193:"d017173a4d992328228a",222:"ff2d1e3bf3010d64b7ac",294:"9b0773a457ff5de8c701",362:"dc84e3b64c3e163c5f6c",484:"ced550a056c07094617a",494:"01b8a212447f811d9e2c",565:"598d91399ae920451148",586:"344fd343a0ee6b5ad7ce",717:"33a53cde1e3ef5cbed9e",903:"720832861318e724323b"}[e]+".js",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},r="app-webtech-web:",l.l=(e,t,n,o)=>{if(i[e])i[e].push(t);else{var a,s;if(void 0!==n)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==r+n){a=u;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.setAttribute("data-webpack",r+n),a.src=e),i[e]=[t];var y=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var r=i[e];if(delete i[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(y.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=y.bind(null,a.onerror),a.onload=y.bind(null,a.onload),s&&document.head.appendChild(a)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),l.p="/",(()=>{var e={811:0};l.f.j=(t,n)=>{var i=l.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=r);var o=l.p+l.u(t),a=new Error;l.l(o,(n=>{if(l.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,i[1](a)}}),"chunk-"+t,t)}},l.F.j=t=>{if(!l.o(e,t)||void 0===e[t]){e[t]=null;var n=document.createElement("link");l.nc&&n.setAttribute("nonce",l.nc),n.rel="prefetch",n.as="script",n.href=l.p+l.u(t),document.head.appendChild(n)}},l.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[o,a,s]=n,d=0;for(i in a)l.o(a,i)&&(l.m[i]=a[i]);if(s)var c=s(l);for(t&&t(n);d<o.length;d++)r=o[d],l.o(e,r)&&e[r]&&e[r][0](),e[o[d]]=0;return l.O(c)},n=self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),l.O(0,[811],(()=>(l.E(362),l.E(565))),5),l.O(void 0,[124,205,597,247,667,452,917,902,342,636,872,910,852,790,138,921,215,232,922,102,657,338,463,340,490,165,76],(()=>l(48051)));var s=l.O(void 0,[124,205,597,247,667,452,917,902,342,636,872,910,852,790,138,921,215,232,922,102,657,338,463,340,490,165,76],(()=>l(31041)));s=l.O(s)})();